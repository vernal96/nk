!function(e,t,i){"use strict";function n(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){l=!0,s=e},f:function(){try{r||null==i.return||i.return()}finally{if(l)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var o={on:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};document.addEventListener(e,(function(e){var n=e.target.closest(t);null!=n&&i.call(n,e)}))},checkAgree:function(){var e,t=n(document.querySelectorAll("input[data-form-confirm]"));try{for(t.s();!(e=t.n()).done;){i(e.value)}}catch(e){t.e(e)}finally{t.f()}function i(e){var t=e.closest("form")?e.closest("form"):e.closest(".form"),i=t.querySelectorAll("[type=submit]");if(i){var a,o=n(t.querySelectorAll("input[data-form-confirm]"));try{for(o.s();!(a=o.n()).done;){var s,r=a.value,l=n(i);try{for(l.s();!(s=l.n()).done;){s.value.disabled=!1}}catch(e){l.e(e)}finally{l.f()}if(!r.checked){var c,u=n(i);try{for(u.s();!(c=u.n()).done;){c.value.disabled=!0}}catch(e){u.e(e)}finally{u.f()}break}}}catch(e){o.e(e)}finally{o.f()}}}this.on("change","input[data-form-confirm]",(function(){i(this)}))},clickAnchors:function(){this.on("click",'a[href^="#"]',(function(e){e.preventDefault();var t=document.getElementById(this.getAttribute("href").substr(1));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))},initModalPlaceholder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".modal__";this.on("click",'.modal-trigger[data-src*="#"]',(function(){var t=this.dataset.content,i=document.getElementById(this.dataset.src.substr(1));if(i){var a=[];if(t)try{a=JSON.parse("{".concat(t,"}"))}catch(e){}var o,s=n(i.querySelectorAll("[data-default]"));try{for(s.s();!(o=s.n()).done;){var r=o.value,l=r.dataset.default;"input"===r.nodeName.toLowerCase()?r.value=l:r.innerHTML=l}}catch(e){s.e(e)}finally{s.f()}for(var c in a){var u=i.querySelector(e+c),h=i.querySelector('input[name="'.concat(c,'"]'));u&&(u.innerHTML=a[c]),h&&(h.value=a[c])}}}))},moveElements:function(){var e,t=n(document.querySelectorAll("[data-move]"));try{for(t.s();!(e=t.n()).done;){var i=e.value,a=i.dataset,o=window.innerWidth,s=a.move?+a.move:576,r=!!a.break&&+a.break,l=!!a.to&&document.getElementById(a.to),c=document.getElementById("movedIn"+a.to);if(!l)return;if(o<s&&!c&&o>=r){var u=document.createElement("div");u.id="movedIn"+a.to,u.style.display="none",i.before(u),l.append(i)}else if((o>=s||r&&r>o)&&c){if(!c)return;c.after(i),c.remove()}}}catch(e){t.e(e)}finally{t.f()}},fixedHeader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"header",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixedHeader",i=document.getElementById(e);if(i){var n=i.offsetHeight,a=50,o=window.scrollY,s=document.getElementById(t),r=s||i.cloneNode(!0);if(r.setAttribute("id","fixedHeader"),r.classList.add("fixed-header","mm-item"),this.css(r,{width:"calc(100vw - ".concat(window.innerWidth-document.documentElement.clientWidth,"px)")}),s||(document.body.prepend(r),r.querySelectorAll(".header-catalog, .header-catalog-overlay").forEach((function(e){e.remove()}))),o>n+a)setTimeout((function(){return r.classList.add("is-active")}),0);else{if(!r)return;r.classList.remove("is-active")}}},pageUp:function(){var e=document.getElementById("pageup"),t=window.scrollY,i=document.querySelector("footer"),n=i?i.offsetHeight:0;e&&(t>280&&t<document.body.offsetHeight-window.innerHeight-n?e.classList.add("is-active"):e.classList.remove("is-active"))},css:function(e,t){for(var i in t)e.style[i]=t[i]},outsideClick:function(e,t){e="string"==typeof e?document.querySelector(e):e,document.addEventListener("click",(function(i){i.composedPath().includes(e)||t(e)}))},slideToggle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;if(["right","left","backLeft","backRight"].includes(t)){this.css(e,{transition:"transform "+i+"ms"});var n=document.createElement("div");this.css(n,{display:"block",overflow:"hidden"}),e.before(n),n.append(e),0!==e.offsetWidth||["backLeft","backRight"].includes(t)?e.offsetWidth>0&&/back/.test(t)&&(e.style.transform="translateX(0)",this.css(n,{width:e.offsetWidth+"px"}),setTimeout((function(){return e.style.transform="translateX("+("backLeft"===t?"-100":"100")+"%)"}),0),setTimeout((function(){n.before(e),n.remove(),e.removeAttribute("style"),e.style.display="none"}),i)):(this.css(e,{display:"block",transform:"translateX("+("left"===t?"-100":"100")+"%)"}),this.css(n,{width:e.offsetWidth+"px"}),setTimeout((function(){return e.style.transform="translateX(0)"}),0),setTimeout((function(){n.before(e),n.remove(),e.removeAttribute("style"),e.style.display="block"}),i))}else{this.css(e,{transition:"height "+i+"ms",overflow:"hidden"});var a=e.clientHeight+"px";0===e.offsetHeight&&"up"!==t?(this.css(e,{display:"block",height:"auto"}),a=e.clientHeight+"px",e.style.height="0px",setTimeout((function(){return e.style.height=a}),0),setTimeout((function(){e.removeAttribute("style"),e.style.display="block"}),i)):e.offsetHeight>0&&"down"!==t&&(a=e.clientHeight+"px",e.style.height=a,setTimeout((function(){return e.style.height="0px"}),0),setTimeout((function(){e.removeAttribute("style"),e.style.display="none"}),i))}},fadeToggle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;0===e.offsetHeight&&"hide"!==t?(this.css(e,{transition:"opacity "+i+"ms",display:"block",opacity:0}),setTimeout((function(){return e.style.opacity=1}),0),setTimeout((function(){e.removeAttribute("style"),e.style.display="block"}),i)):0!==e.offsetHeight&&"show"!==t&&(this.css(e,{transition:"opacity "+i+"ms"}),setTimeout((function(){return e.style.opacity=0}),0),setTimeout((function(){e.removeAttribute("style"),e.style.display="none"}),i))},setCustomSelect:function(){var e,t=this,i=["label","title","btn","list"],a=n(document.querySelectorAll("select:not(.input-initialized):not(.input-ignore)"));try{var o=function(){var a=e.value,o=document.createElement("div");o.classList.add("selector"),t.isMobile()&&o.classList.add("".concat("selector").concat("_").concat("mobile"));for(var s=0,r=i;s<r.length;s++){var l=r[s];window[l]=document.createElement("div"),window[l].classList.add("".concat("selector").concat("__").concat(l))}function c(e){var t=e.closest(".".concat("selector")),a=t.querySelector(".".concat("selector").concat("__").concat(i[3])),o=t.querySelector(".".concat("selector").concat("__").concat(i[1]));a.innerHTML="";var s,r=n(e.options);try{for(r.s();!(s=r.n()).done;){var l=s.value,c=document.createElement("div"),u=c.classList;c.textContent=l.textContent,c.dataset.value=l.value,u.add("".concat("selector").concat("__").concat("option")),l.selected&&(u.add("is-selected"),o.textContent=l.textContent,l.disabled?o.classList.add("is-disabled"):o.classList.remove("is-disabled")),l.disabled&&u.add("is-disabled"),a.append(c),c.addEventListener("click",(function(t){this.classList.contains("is-disabled")||(this.closest(".".concat("selector")).classList.remove("is-active"),e.value=this.dataset.value,e.dispatchEvent(new Event("change")))}))}}catch(e){r.e(e)}finally{r.f()}}a.after(o),label.append(title,btn),o.append(a,label,list),label.addEventListener("click",(function(e){var t=this.parentNode,n=t.querySelector(".".concat("selector").concat("__").concat(i[3]));window.innerHeight-n.getBoundingClientRect().top-t.offsetHeight<n.offsetHeight?t.classList.add("is-reverse"):t.classList.remove("is-reverse"),t.classList.toggle("is-active")})),t.outsideClick(o,(function(e){return e.classList.remove("is-active")})),c(a),a.addEventListener("change",(function(){return c(a)})),a.classList.add("input-initialized")};for(a.s();!(e=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}},getCookie:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=[],a=n(document.cookie.split(";"));try{for(a.s();!(e=a.n()).done;){var o=e.value;o=o.split("="),i[decodeURIComponent(o[0]).trim()]=decodeURIComponent(o[1])}}catch(e){a.e(e)}finally{a.f()}return t?i[t]:i},setCookie:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.path||(i.path="/"),i.samesite||(i.samesite="lax"),console.log(i),i.expires instanceof Date&&(i.expires=i.expires.toUTCString());var n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var a in i){n+="; "+a;var o=i[a];!0!==o&&(n+="="+o)}document.cookie=n},deleteCookie:function(e){this.setCookie(e,"",{"max-age":-1})},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)},initViberLink:function(){if(this.isMobile()){var e=document.querySelector('a[href^="viber://"]');if(e){var t=new URL(e.href).searchParams.get("number").replace(/\D/,"");t&&(e.href="viber://add?number=".concat(t))}}},createStructure:function(e){var t=this,i=e.type?e.type:"div",n=e.classes,a=e.children,o=e.content,s=e.inner,r=e.data,l=e.variable,c=e.id,u=document.createElement(i);if(n&&("string"==typeof n?u.setAttribute("class",n.trim()):n.forEach((function(e){return u.classList.add(e)}))),c&&(u.id=c),o&&(u.textContent=o),s&&(u.innerHTML=s),r)for(var h in r)u.dataset[h]=r[h];return a&&a.forEach((function(e){return u.append(t.createStructure(e))})),l&&(window[l]=u),u},toggleStFormParam:function(){document.querySelectorAll("input[name='st']").forEach((function(e){window.innerWidth<576?"1"===e.value&&(e.value="0",e.classList.add("changed")):e.classList.contains("changed")&&(e.value="1",e.classList.remove("changed"))}))},toggleTextSlider:function(){var e=this;this.on("click",".slider-text-header",(function(t){var i=t.target.nextElementSibling,n=t.target.parentNode;0===i.offsetHeight?(n.classList.add("is-active"),e.slideToggle(i,"down")):(n.classList.remove("is-active"),e.slideToggle(i,"up"))}))},getScrollBarWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",e.append(t);var i=t.offsetWidth-t.clientWidth;return t.remove(),i},toggleBodyOverflow:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.css(document.body,{overflow:"hidden",height:"100%",paddingRight:window.innerWidth-document.documentElement.clientWidth+"px"}):document.body.removeAttribute("style")},scrollToHeaderElement:function(){var e=document.querySelector("[data-page-loader-start]");if(e){var t=0,i=document.getElementById("fixedHeader");i&&(t+=i.clientHeight);var n=e.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:n,behavior:"smooth"})}},bxPreloader:function(){var e=this,t=[];document.querySelectorAll("[data-page-loader-container]").forEach((function(e){var i=e.parentNode;i.id.startsWith("comp_")&&(t.push(i),i.classList.contains("loader-container")||i.classList.add("loader-container"))})),BX.showWait=function(i,n){t.forEach((function(t){t.classList.add("is-loading"),t.append(e.createStructure({classes:"loaded loader--gray"}))}))},BX.closeWait=function(i,n){i&&(console.log(i,n),document.querySelectorAll("[data-page-loader-container]").forEach((function(e){t.forEach((function(e){e.classList.remove("is-loading"),e.querySelectorAll("loader").forEach((function(e){return e.remove()}))}))})),e.scrollToHeaderElement())}},setPhonesMask:function(){var e,t=n(document.querySelectorAll('input[type="tel"]:not(.input-initialized):not(.input-ignore)'));try{for(t.s();!(e=t.n()).done;){var i=e.value;i.addEventListener("keydown",s.onKeyDown),i.addEventListener("paste",s.onPaste),i.addEventListener("input",s.onInput),i.classList.add("input-initialized")}}catch(e){t.e(e)}finally{t.f()}}},s={onKeyDown:function(e){void 0!==e.key&&(["Delete","Backspace","Enter"].includes(e.key)||e.key.match(/^arrow/i)||e.altKey||e.ctrlKey||e.shiftKey||!e.key.match(/\D/)||e.preventDefault())},onPaste:function(e){this.dispatchEvent(new Event("input"))},onInput:function(e){var t=e.target,i=t.value.replace(/\D/gi,"").substr(0,13);"9"===i[0]&&(i="7".concat(i));var n=[7,8,9].includes(+i[0]),a="",o=!!(e.inputType&&e.inputType.match(/^deleteContent/)||t.selectionStart<t.value.length)&&t.selectionStart;for(var s in i){var r=i[s=+s];0===s?a+="8"===r?"8":"9"===r?"+7 (9":"+".concat(r):n?1===s?a+=" (".concat(r):[2,3,5,6,8,10].includes(s)?a+="".concat(r):[7,9].includes(s)?a+="-".concat(r):4===s&&(a+=") ".concat(r)):a+="".concat(r)}t.value=a,o&&i.length<11&&n&&(this.selectionStart=o,this.selectionEnd=o)}};function r(e,t){var i=o.createStructure({type:"span",classes:"loader"});e.querySelectorAll('[type="submit"]').forEach((function(e){t?(e.append(i),e.classList.add("is-loading"),e.disabled=!0):(e.classList.remove("is-loading"),e.disabled=!1,e.querySelector(".loader").remove())}))}function l(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,r=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){r=!0,o=e},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t},h=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;var t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY,n=-1!==i.indexOf("hidden"),a=-1!==i.indexOf("visible");return t&&!n&&!a},d=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return!(!t||t===document.body||i&&t===i)&&(h(t)?t:e(t.parentElement,i))},f=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var i=document.createElement("div");t.firstChild;)i.appendChild(t.firstChild);return i}return t.firstChild},v=function(e){return"".concat(e||"").split(" ").filter((function(e){return!!e}))},p=function(e,t,i){e&&v(t).forEach((function(t){e.classList.toggle(t,i||!1)}))},g=function e(t){babelHelpers.classCallCheck(this,e),Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()},m={passive:!1},b=function(){function e(t,i){var n=i.start,a=void 0===n?function(){return!0}:n,o=i.move,s=void 0===o?function(){}:o,r=i.end,l=void 0===r?function(){}:r;babelHelpers.classCallCheck(this,e),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=t,this.startCallback=a,this.moveCallback=s,this.endCallback=l;for(var c=0,u=["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"];c<u.length;c++){var h=u[c];this[h]=this[h].bind(this)}this.element.addEventListener("mousedown",this.onPointerStart,m),this.element.addEventListener("touchstart",this.onTouchStart,m),this.element.addEventListener("touchmove",this.onMove,m),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}return babelHelpers.createClass(e,[{key:"onPointerStart",value:function(e){if(e.buttons&&0===e.button){var t=new g(e);this.currentPointers.some((function(e){return e.id===t.id}))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}}},{key:"onTouchStart",value:function(e){for(var t=0,i=Array.from(e.changedTouches||[]);t<i.length;t++){var n=i[t];this.triggerPointerStart(new g(n),e)}window.addEventListener("blur",this.onWindowBlur)}},{key:"onMove",value:function(e){var t,i=this,n=this.currentPointers.slice(),a="changedTouches"in e?Array.from(e.changedTouches||[]).map((function(e){return new g(e)})):[new g(e)],o=[],s=l(a);try{var r=function(){var e=t.value,n=i.currentPointers.findIndex((function(t){return t.id===e.id}));n<0||(o.push(e),i.currentPointers[n]=e)};for(s.s();!(t=s.n()).done;)r()}catch(e){s.e(e)}finally{s.f()}o.length&&this.moveCallback(e,this.currentPointers.slice(),n)}},{key:"onPointerEnd",value:function(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new g(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}},{key:"onTouchEnd",value:function(e){for(var t=0,i=Array.from(e.changedTouches||[]);t<i.length;t++){var n=i[t];this.triggerPointerEnd(e,new g(n))}}},{key:"triggerPointerStart",value:function(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}},{key:"triggerPointerEnd",value:function(e,t){var i=this.currentPointers.findIndex((function(e){return e.id===t.id}));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(e,t,this.currentPointers.slice()))}},{key:"onWindowBlur",value:function(){this.clear()}},{key:"clear",value:function(){for(;this.currentPointers.length;){var e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}},{key:"stop",value:function(){this.element.removeEventListener("mousedown",this.onPointerStart,m),this.element.removeEventListener("touchstart",this.onTouchStart,m),this.element.removeEventListener("touchmove",this.onMove,m),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}]),e}();function y(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function w(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}var k=function(e){return"object"==babelHelpers.typeof(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},x=function e(t){for(var i=arguments.length<=1?0:arguments.length-1,n=0;n<i;n++){var a=(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])||{};Object.entries(a).forEach((function(i){var n=babelHelpers.slicedToArray(i,2),a=n[0],o=n[1],s=Array.isArray(o)?[]:{};t[a]||Object.assign(t,babelHelpers.defineProperty({},a,s)),k(o)?Object.assign(t[a],e(s,o)):Array.isArray(o)?Object.assign(t,babelHelpers.defineProperty({},a,babelHelpers.toConsumableArray(o))):Object.assign(t,babelHelpers.defineProperty({},a,o))}))}return t},T=function(e,t){return e.split(".").reduce((function(e,t){return"object"==babelHelpers.typeof(e)?e[t]:void 0}),t)},C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};babelHelpers.classCallCheck(this,e),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);var i,n=l(Object.getOwnPropertyNames(Object.getPrototypeOf(this)));try{for(n.s();!(i=n.n()).done;){var a=i.value;a.startsWith("on")&&"function"==typeof this[a]&&(this[a]=this[a].bind(this))}}catch(e){n.e(e)}finally{n.f()}}return babelHelpers.createClass(e,[{key:"setOptions",value:function(e){this.options=e?x({},this.constructor.defaults,e):{};for(var t=0,i=Object.entries(this.option("on")||{});t<i.length;t++){var n=babelHelpers.slicedToArray(i[t],2),a=n[0],o=n[1];this.on(a,o)}}},{key:"option",value:function(e){for(var t,i=T(e,this.options),n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return i&&"function"==typeof i&&(i=(t=i).call.apply(t,[this,this].concat(a))),i}},{key:"optionFor",value:function(e,t,i){for(var n,a,o=T(t,e),s=arguments.length,r=new Array(s>3?s-3:0),l=3;l<s;l++)r[l-3]=arguments[l];"string"!=typeof(a=o)||isNaN(a)||isNaN(parseFloat(a))||(o=parseFloat(o)),"true"===o&&(o=!0),"false"===o&&(o=!1),o&&"function"==typeof o&&(o=(n=o).call.apply(n,[this,this,e].concat(r)));var c=T(t,this.options);return c&&"function"==typeof c?o=c.call.apply(c,[this,this,e].concat(r,[o])):void 0===o&&(o=c),void 0===o?i:o}},{key:"cn",value:function(e){var t=this.options.classes;return t&&t[e]||""}},{key:"localize",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(function(e,i,n){var a="";return n?a=t.option("".concat(i[0]+i.toLowerCase().substring(1),".l10n.").concat(n)):i&&(a=t.option("l10n.".concat(i))),a||(a=e),a}));for(var n=0;n<i.length;n++)e=e.split(i[n][0]).join(i[n][1]);return e.replace(/\{\{(.*?)\}\}/g,(function(e,t){return t}))}},{key:"on",value:function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach((function(e){var n=i.events.get(e);n||(i.events.set(e,[]),n=[]),n.includes(t)||n.push(t),i.events.set(e,n)}))}},{key:"off",value:function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach((function(e){var n=i.events.get(e);if(Array.isArray(n)){var a=n.indexOf(t);a>-1&&n.splice(a,1)}}))}},{key:"emit",value:function(e){for(var t=this,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];babelHelpers.toConsumableArray(this.events.get(e)||[]).forEach((function(e){return e.apply(void 0,[t].concat(n))})),"*"!==e&&this.emit.apply(this,["*",e].concat(n))}}]),e}();Object.defineProperty(C,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(C,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var E,S=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,i)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attachPlugins",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Map,i=0,n=Object.entries(e);i<n.length;i++){var a=babelHelpers.slicedToArray(n[i],2),o=a[0],s=a[1],r=this.option(o),c=this.plugins[o];c||!1===r?c&&!1===r&&(c.detach(),delete this.plugins[o]):t.set(o,new s(this,r||{}))}var u,h=l(t);try{for(h.s();!(u=h.n()).done;){var d=babelHelpers.slicedToArray(u.value,2),f=d[0],v=d[1];this.plugins[f]=v,v.attach()}}catch(e){h.e(e)}finally{h.f()}}},{key:"detachPlugins",value:function(e){var t,i=l(e=e||Object.keys(this.plugins));try{for(i.s();!(t=i.n()).done;){var n=t.value,a=this.plugins[n];a&&a.detach(),delete this.plugins[n]}}catch(e){i.e(e)}finally{i.f()}return this.emit("detachPlugins"),this}}]),t}(C);!function(e){e[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Ready=2]="Ready",e[e.Panning=3]="Panning",e[e.Mousemove=4]="Mousemove",e[e.Destroy=5]="Destroy"}(E||(E={}));var P=["a","b","c","d","e","f"],M={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},O={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:M},H='<circle cx="25" cy="25" r="20"></circle>',A='<div class="f-spinner"><svg viewBox="0 0 50 50">'+H+H+"</svg></div>",z=function(e){return e&&null!==e&&e instanceof Element&&"nodeType"in e},I=function(e,t){e&&v(t).forEach((function(t){e.classList.remove(t)}))},L=function(e,t){e&&v(t).forEach((function(t){e.classList.add(t)}))},R={a:1,b:0,c:0,d:1,e:0,f:0},D=1e4,F="mousemove",j="drag",B="content",N="auto",_=null,W=null,q=function(e){function t(e){var i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(babelHelpers.classCallCheck(this,t),i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,a)),Object.defineProperty(babelHelpers.assertThisInitialized(i),"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"state",{enumerable:!0,configurable:!0,writable:!0,value:E.Init}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},R)}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},R)}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");i.container=e,i.initContent(),i.attachPlugins(Object.assign(Object.assign({},t.Plugins),o)),i.emit("attachPlugins"),i.emit("init");var s=i.content;if(s.addEventListener("load",i.onLoad),s.addEventListener("error",i.onError),i.isContentLoading){if(i.option("spinner")){e.classList.add(i.cn("isLoading"));var r=f(A);!e.contains(s)||s.parentElement instanceof HTMLPictureElement?i.spinner=e.appendChild(r):i.spinner=(null===(n=s.parentElement)||void 0===n?void 0:n.insertBefore(r,s))||null}i.emit("beforeLoad")}else queueMicrotask((function(){i.enable()}));return babelHelpers.possibleConstructorReturn(i)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"fits",get:function(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}},{key:"isTouchDevice",get:function(){return null===W&&(W=window.matchMedia("(hover: none)").matches),W}},{key:"isMobile",get:function(){return null===_&&(_=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),_}},{key:"panMode",get:function(){return this.options.panMode!==F||this.isTouchDevice?j:F}},{key:"panOnlyZoomed",get:function(){var e=this.options.panOnlyZoomed;return e===N?this.isTouchDevice:e}},{key:"isInfinite",get:function(){return this.option("infinite")}},{key:"angle",get:function(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}},{key:"targetAngle",get:function(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}},{key:"scale",get:function(){var e=this.current,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"targetScale",get:function(){var e=this.target,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"minScale",get:function(){return this.option("minScale")||1}},{key:"fullScale",get:function(){var e=this.contentRect;return e.fullWidth/e.fitWidth||1}},{key:"maxScale",get:function(){return this.fullScale*(this.option("maxScale")||1)||1}},{key:"coverScale",get:function(){var e=this.containerRect,t=this.contentRect,i=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,i)}},{key:"isScaling",get:function(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}},{key:"isContentLoading",get:function(){var e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}},{key:"isResting",get:function(){if(this.isBouncingX||this.isBouncingY)return!1;for(var e=0,t=P;e<t.length;e++){var i=t[e],n="e"==i||"f"===i?1e-4:1e-5;if(Math.abs(this.target[i]-this.current[i])>n)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}}]),babelHelpers.createClass(t,[{key:"initContent",value:function(){var e=this.container,t=this.cn(B),i=this.option(B)||e.querySelector(".".concat(t));if(i||(i=e.querySelector("img,picture")||e.firstElementChild)&&L(i,t),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}},{key:"onLoad",value:function(){var e=this.spinner,t=this.container,i=this.state;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),i===E.Init?this.enable():this.updateMetrics()}},{key:"onError",value:function(){this.state!==E.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=E.Error,this.emit("error"))}},{key:"getNextScale",value:function(e){var t=this.fullScale,i=this.targetScale,n=this.coverScale,a=this.maxScale,o=this.minScale,s=o;switch(e){case"toggleMax":s=i-o<.5*(a-o)?a:o;break;case"toggleCover":s=i-o<.5*(n-o)?n:o;break;case"toggleZoom":s=i-o<.5*(t-o)?t:o;break;case"iterateZoom":var r=[1,t,a].sort((function(e,t){return e-t})),l=r.findIndex((function(e){return e>i+1e-5}));s=r[l]||1}return s}},{key:"attachObserver",value:function(){var e,t=this,i=function(){var e=t.container,i=t.containerRect;return Math.abs(i.width-e.getBoundingClientRect().width)>.1||Math.abs(i.height-e.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((function(){t.updateTimer||(i()?(t.onResize(),t.isMobile&&(t.updateTimer=setTimeout((function(){i()&&t.onResize(),t.updateTimer=null}),500))):t.updateTimer&&(clearTimeout(t.updateTimer),t.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}},{key:"detachObserver",value:function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}},{key:"attachEvents",value:function(){var e=this.container;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new b(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(F,this.onMouseMove)}},{key:"detachEvents",value:function(){var e,t=this.container;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(F,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}},{key:"animate",value:function(){var e=this;this.setTargetForce();for(var t=this.friction,i=this.option("maxVelocity"),n=0,a=P;n<a.length;n++){var o=a[n];t?(this.velocity[o]*=1-t,i&&!this.isScaling&&(this.velocity[o]=Math.max(Math.min(this.velocity[o],i),-1*i)),this.current[o]+=this.velocity[o]):this.current[o]=this.target[o]}this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((function(){return e.animate()})):this.stop("current")}},{key:"setTargetForce",value:function(){for(var e=0,t=P;e<t.length;e++){var i=t[e];"e"===i&&this.isBouncingX||"f"===i&&this.isBouncingY||(this.velocity[i]=(1/(1-this.friction)-1)*(this.target[i]-this.current[i]))}}},{key:"checkBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.current,n=i.e+e,a=i.f+t,o=this.getBounds(),s=o.x,r=o.y,l=s.min,c=s.max,u=r.min,h=r.max,d=0,f=0;return l!==1/0&&n<l?d=l-n:c!==1/0&&n>c&&(d=c-n),u!==1/0&&a<u?f=u-a:h!==1/0&&a>h&&(f=h-a),Math.abs(d)<1e-4&&(d=0),Math.abs(f)<1e-4&&(f=0),Object.assign(Object.assign({},o),{xDiff:d,yDiff:f,inBounds:!d&&!f})}},{key:"clampTargetBounds",value:function(){var e=this.target,t=this.getBounds(),i=t.x,n=t.y;i.min!==1/0&&(e.e=Math.max(e.e,i.min)),i.max!==1/0&&(e.e=Math.min(e.e,i.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}},{key:"calculateContentDim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=this.content,i=this.contentRect,n=i.fitWidth,a=i.fitHeight,o=i.fullWidth,s=i.fullHeight,r=o,l=s;if(this.option("zoom")||0!==this.angle){var c=!(t instanceof HTMLImageElement||"none"!==window.getComputedStyle(t).maxWidth&&"none"!==window.getComputedStyle(t).maxHeight),u=c?o:n,h=c?s:a,d=this.getMatrix(e),f=new DOMPoint(0,0).matrixTransform(d),v=new DOMPoint(0+u,0).matrixTransform(d),p=new DOMPoint(0+u,0+h).matrixTransform(d),g=new DOMPoint(0,0+h).matrixTransform(d),m=Math.abs(p.x-f.x),b=Math.abs(p.y-f.y),y=Math.abs(g.x-v.x),w=Math.abs(g.y-v.y);r=Math.max(m,y),l=Math.max(b,w)}return{contentWidth:r,contentHeight:l}}},{key:"setEdgeForce",value:function(){if(this.ignoreBounds||this.isDragging||this.panMode===F||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);var e=this.target,t=this.checkBounds(),i=t.x,n=t.y,a=t.xDiff,o=t.yDiff,s=this.option("maxVelocity"),r=this.velocity.e,l=this.velocity.f;0!==a?(this.isBouncingX=!0,a*r<=0?r+=.14*a:(r=.14*a,i.min!==1/0&&(this.target.e=Math.max(e.e,i.min)),i.max!==1/0&&(this.target.e=Math.min(e.e,i.max))),s&&(r=Math.max(Math.min(r,s),-1*s))):this.isBouncingX=!1,0!==o?(this.isBouncingY=!0,o*l<=0?l+=.14*o:(l=.14*o,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),s&&(l=Math.max(Math.min(l,s),-1*s))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=r),this.isBouncingY&&(this.velocity.f=l)}},{key:"enable",value:function(){for(var e=this.content,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform),i=0,n=P;i<n.length;i++){var a=n[i];this.current[a]=this.target[a]=t[a]}this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=E.Ready,this.emit("ready")}},{key:"onClick",value:function(e){var t,i=this;"click"===e.type&&0===e.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());var n=e.target;if(n&&!e.defaultPrevented){if(n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if(!function(){var e=window.getSelection();return e&&"Range"===e.type}()||n.closest("button")){var a=n.closest("[data-panzoom-action]"),o=n.closest("[data-panzoom-change]"),s=a||o,r=s&&z(s)?s.dataset:null;if(r){var l=r.panzoomChange,c=r.panzoomAction;if((l||c)&&e.preventDefault(),l){var u={};try{u=JSON.parse(l)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(u)}if(c)return void(this[c]&&this[c]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(!n.closest("[data-fancybox]")){var h=this.content.getBoundingClientRect(),d=this.dragStart;if(!d.time||this.canZoomOut()||!(Math.abs(h.x-d.x)>2||Math.abs(h.y-d.y)>2)){this.dragStart.time=0;var f=function(t){i.option("zoom",e)&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof i[t]&&(e.preventDefault(),i[t]({event:e}))},v=this.option("click",e),p=this.option("dblClick",e);p?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((function(){1===i.clicks?(i.emit("click",e),!e.defaultPrevented&&v&&f(v)):(i.emit("dblClick",e),e.defaultPrevented||f(p)),i.clicks=0,i.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&v&&f(v))}}}}}},{key:"addTrackingPoint",value:function(e){var t=this.trackingPoints.filter((function(e){return e.time>Date.now()-100}));t.push(e),this.trackingPoints=t}},{key:"onPointerDown",value:function(e,t,i){var n;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];var a=this.content.getBoundingClientRect();if(this.dragStart={x:a.x,y:a.y,top:a.top,left:a.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===F&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;var o=e.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(o.nodeName)||o.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(o.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}},{key:"onPointerMove",value:function(e,t,i){if(!1!==this.option("touch",e)&&this.isDragging&&!(t.length<2&&this.panOnlyZoomed&&u(this.targetScale)<=u(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))){this.addTrackingPoint(t[0]);var n=this.content,a=w(i[0],i[1]),o=w(t[0],t[1]),s=0,r=0;if(t.length>1){var l=n.getBoundingClientRect();s=a.clientX-l.left-.5*l.width,r=a.clientY-l.top-.5*l.height}var c=y(i[0],i[1]),h=y(t[0],t[1]),f=c?h/c:1,v=o.clientX-a.clientX,p=o.clientY-a.clientY;this.dragOffset.x+=v,this.dragOffset.y+=p,this.dragOffset.time=Date.now()-this.dragStart.time;var g=u(this.targetScale)===u(this.minScale)&&this.option("lockAxis");if(g&&!this.lockedAxis)if("xy"===g||"y"===g||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();var m=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=m>45&&m<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,v=0,p=0}else this.lockedAxis=g;if(d(e.target,this.content)&&(g="x",this.dragOffset.y=0),!g||"xy"===g||this.lockedAxis===g||u(this.targetScale)!==u(this.minScale)){e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));var b=this.checkBounds(v,p);this.option("rubberband")?("x"!==this.isInfinite&&(b.xDiff>0&&v<0||b.xDiff<0&&v>0)&&(v*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*b.xDiff))),"y"!==this.isInfinite&&(b.yDiff>0&&p<0||b.yDiff<0&&p>0)&&(p*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*b.yDiff)))):(b.xDiff&&(v=0),b.yDiff&&(p=0));var k=this.targetScale,x=this.minScale,T=this.maxScale;k<.5*x&&(f=Math.max(f,x)),k>1.5*T&&(f=Math.min(f,T)),"y"===this.lockedAxis&&u(k)===u(x)&&(v=0),"x"===this.lockedAxis&&u(k)===u(x)&&(p=0),this.applyChange({originX:s,originY:r,panX:v,panY:p,scale:f,friction:this.option("dragFriction"),ignoreBounds:!0})}}}},{key:"onPointerUp",value:function(e,t,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),d(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==E.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}},{key:"startDecelAnim",value:function(){var e,t=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(var i=0,n=P;i<n.length;i++){var a=n[i];this.velocity[a]=0}this.target.e=this.current.e,this.target.f=this.current.f,I(this.container,"is-scaling"),I(this.container,"is-animating"),this.isTicking=!1;var o=this.trackingPoints,s=o[0],r=o[o.length-1],l=0,c=0,h=0;r&&s&&(l=r.clientX-s.clientX,c=r.clientY-s.clientY,h=r.time-s.time);var d=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==d&&(l*=d,c*=d);var f=0,v=0,p=0,g=0,m=this.option("decelFriction"),b=this.targetScale;if(h>0){p=Math.abs(l)>3?l/(h/30):0,g=Math.abs(c)>3?c/(h/30):0;var y=this.option("maxVelocity");y&&(p=Math.max(Math.min(p,y),-1*y),g=Math.max(Math.min(g,y),-1*y))}p&&(f=p/(1/(1-m)-1)),g&&(v=g/(1/(1-m)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&u(b)===this.minScale)&&(f=p=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&u(b)===this.minScale)&&(v=g=0);var w=this.dragOffset.x,k=this.dragOffset.y,x=this.option("dragMinThreshold")||0;Math.abs(w)<x&&Math.abs(k)<x&&(f=v=0,p=g=0),(this.option("zoom")&&(b<this.minScale-1e-5||b>this.maxScale+1e-5)||t&&!f&&!v)&&(m=.35),this.applyChange({panX:f,panY:v,friction:m}),this.emit("decel",p,g,w,k)}},{key:"onWheel",value:function(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),i=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,i),this.panMode!==F&&!e.defaultPrevented){var n=this.option("wheel");"pan"===n?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===n&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}}},{key:"onMouseMove",value:function(e){this.panWithMouse(e)}},{key:"onKeydown",value:function(e){"Escape"===e.key&&this.toggleFS()}},{key:"onResize",value:function(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}},{key:"setTransform",value:function(){this.emit("beforeTransform");for(var e=this.current,t=this.target,i=this.content,n=this.contentRect,a=Object.assign({},R),o=0,s=P;o<s.length;o++){var r=s[o],l="e"==r||"f"===r?D:1e5;a[r]=u(e[r],l),Math.abs(t[r]-e[r])<("e"==r||"f"===r?.51:.001)&&(e[r]=t[r])}var c=a.a,h=a.b,d=a.c,f=a.d,v=a.e,p=a.f,g="matrix(".concat(c,", ").concat(h,", ").concat(d,", ").concat(f,", ").concat(v,", ").concat(p,")"),m=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(m=m.parentElement||m),m.style.transform!==g){m.style.transform=g;var b=this.calculateContentDim(),y=b.contentWidth,w=b.contentHeight;n.width=y,n.height=w,this.emit("afterTransform")}}},{key:"updateMetrics",value:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this&&this.state!==E.Destroy&&!this.isContentLoading){var n=Math.max(1,(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1),a=this.container,o=this.content,s=o instanceof HTMLImageElement,r=a.getBoundingClientRect(),l=getComputedStyle(this.container),c=r.width*n,h=r.height*n,d=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),f=c-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),v=h-d;this.containerRect={width:c,height:h,innerWidth:f,innerHeight:v};var p=parseFloat(o.dataset.width||"")||function(e){return(e instanceof HTMLImageElement?e.naturalWidth:e instanceof SVGElement?e.width.baseVal.value:Math.max(e.offsetWidth,e.scrollWidth))||0}(o),g=parseFloat(o.dataset.height||"")||function(e){return(e instanceof HTMLImageElement?e.naturalHeight:e instanceof SVGElement?e.height.baseVal.value:Math.max(e.offsetHeight,e.scrollHeight))||0}(o),m=this.option("width",p)||N,b=this.option("height",g)||N,y=m===N,w=b===N;"number"!=typeof m&&(m=p),"number"!=typeof b&&(b=g),y&&(m=p*(b/g)),w&&(b=g/(p/m));var k=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option("transformParent")&&(k=k.parentElement||k);var x=k.getAttribute("style")||"";k.style.setProperty("transform","none","important"),s&&(k.style.width="",k.style.height=""),k.offsetHeight;var T=o.getBoundingClientRect(),C=T.width*n,S=T.height*n,P=C,M=S;C=Math.min(C,m),S=Math.min(S,b),s?(C=(e=function(e,t,i,n){var a=i/e,o=n/t,s=Math.min(a,o);return{width:e*=s,height:t*=s}}(m,b,C,S)).width,S=e.height):(C=Math.min(C,m),S=Math.min(S,b));var O=.5*(M-S),H=.5*(P-C);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:T.top-r.top+O,bottom:r.bottom-T.bottom+O,left:T.left-r.left+H,right:r.right-T.right+H,fitWidth:C,fitHeight:S,width:C,height:S,fullWidth:m,fullHeight:b}),k.style.cssText=x,s&&(k.style.width="".concat(C,"px"),k.style.height="".concat(S,"px")),this.setTransform(),!0!==i&&this.emit("refresh"),this.ignoreBounds||(u(this.targetScale)<u(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===E.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}}},{key:"calculateBounds",value:function(){var e=this.calculateContentDim(this.target),t=e.contentWidth,i=e.contentHeight,n=this.targetScale,a=this.lockedAxis,o=this.contentRect,s=o.fitWidth,r=o.fitHeight,l=0,c=0,h=0,d=0,f=this.option("infinite");if(!0===f||a&&f===a)l=-1/0,h=1/0,c=-1/0,d=1/0;else{var v=this.containerRect,p=this.contentRect,g=u(s*n,D),m=u(r*n,D),b=v.innerWidth,y=v.innerHeight;if(v.width===g&&(b=v.width),v.width===m&&(y=v.height),t>b){l=-1*(h=.5*(t-b));var w=.5*(p.right-p.left);l+=w,h+=w}if(s>b&&t<b&&(l-=.5*(s-b),h-=.5*(s-b)),i>y){c=-1*(d=.5*(i-y));var k=.5*(p.bottom-p.top);c+=k,d+=k}r>y&&i<y&&(l-=.5*(r-y),h-=.5*(r-y))}return{x:{min:l,max:h},y:{min:c,max:d}}}},{key:"getBounds",value:function(){var e=this.option("bounds");return e!==N?e:this.calculateBounds()}},{key:"updateControls",value:function(){var e=this,t=e.container,i=e.panMode,n=e.contentRect,a=e.targetScale,o=e.minScale,s=o,r=e.option("click")||!1;r&&(s=e.getNextScale(r));var c=e.canZoomIn(),h=e.canZoomOut(),d=i===j&&!!this.option("touch"),f=h&&d;if(d&&(u(a)<u(o)&&!this.panOnlyZoomed&&(f=!0),(u(n.width,1)>u(n.fitWidth,1)||u(n.height,1)>u(n.fitHeight,1))&&(f=!0)),u(n.width*a,1)<u(n.fitWidth,1)&&(f=!1),i===F&&(f=!1),p(t,this.cn("isDraggable"),f),this.option("zoom")){var v=c&&u(s)>u(a),g=!v&&!f&&h&&u(s)<u(a);p(t,this.cn("canZoomIn"),v),p(t,this.cn("canZoomOut"),g);var m,b=l(t.querySelectorAll("[data-panzoom-action]"));try{for(b.s();!(m=b.n()).done;){var y=m.value,w=!1,k=!1;switch(y.dataset.panzoomAction){case"zoomIn":c?w=!0:k=!0;break;case"zoomOut":h?w=!0:k=!0;break;case"toggleZoom":case"iterateZoom":c||h?w=!0:k=!0;var x=y.querySelector("g");x&&(x.style.display=c?"":"none")}w?(y.removeAttribute("disabled"),y.removeAttribute("tabindex")):k&&(y.setAttribute("disabled",""),y.setAttribute("tabindex","-1"))}}catch(e){b.e(e)}finally{b.f()}}}},{key:"panTo",value:function(e){var t=e.x,i=void 0===t?this.target.e:t,n=e.y,a=void 0===n?this.target.f:n,o=e.scale,s=void 0===o?this.targetScale:o,r=e.friction,l=void 0===r?this.option("friction"):r,c=e.angle,u=void 0===c?0:c,h=e.originX,d=void 0===h?0:h,f=e.originY,v=void 0===f?0:f,p=e.flipX,g=void 0!==p&&p,m=e.flipY,b=void 0!==m&&m,y=e.ignoreBounds,w=void 0!==y&&y;this.state!==E.Destroy&&this.applyChange({panX:i-this.target.e,panY:a-this.target.f,scale:s/this.targetScale,angle:u,originX:d,originY:v,friction:l,flipX:g,flipY:b,ignoreBounds:w})}},{key:"applyChange",value:function(e){var t=e.panX,i=void 0===t?0:t,n=e.panY,a=void 0===n?0:n,o=e.scale,s=void 0===o?1:o,r=e.angle,l=void 0===r?0:r,c=e.originX,h=void 0===c?-this.current.e:c,d=e.originY,f=void 0===d?-this.current.f:d,v=e.friction,p=void 0===v?this.option("friction"):v,g=e.flipX,m=void 0!==g&&g,b=e.flipY,y=void 0!==b&&b,w=e.ignoreBounds,k=void 0!==w&&w,x=e.bounce,T=void 0===x?this.option("bounce"):x,C=this.state;if(C!==E.Destroy){this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=p||0,this.ignoreBounds=k;var S=this.current,M=S.e,O=S.f,H=this.getMatrix(this.target),A=(new DOMMatrix).translate(M,O).translate(h,f).translate(i,a);if(this.option("zoom")){if(!k){var z=this.targetScale,I=this.minScale,L=this.maxScale;z*s<I&&(s=I/z),z*s>L&&(s=L/z)}A=A.scale(s)}A=A.translate(-h,-f).translate(-M,-O).multiply(H),l&&(A=A.rotate(l)),m&&(A=A.scale(-1,1)),y&&(A=A.scale(1,-1));for(var R=0,j=P;R<j.length;R++){var B=j[R];"e"!==B&&"f"!==B&&(A[B]>this.minScale+1e-5||A[B]<this.minScale-1e-5)?this.target[B]=A[B]:this.target[B]=u(A[B],D)}(this.targetScale<this.scale||Math.abs(s-1)>.1||this.panMode===F||!1===T)&&!k&&this.clampTargetBounds(),C===E.Init?this.animate():this.isResting||(this.state=E.Panning,this.requestTick())}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state!==E.Init&&this.state!==E.Destroy){var t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(var i=0,n=P;i<n.length;i++){var a=n[i];this.velocity[a]=0,"current"===e?this.current[a]=this.target[a]:"target"===e&&(this.target[a]=this.current[a])}this.setTransform(),I(this.container,"is-scaling"),I(this.container,"is-animating"),this.isTicking=!1,this.state=E.Ready,t&&(this.emit("endAnimation"),this.updateControls())}}},{key:"requestTick",value:function(){var e=this;this.isTicking||(this.emit("startAnimation"),this.updateControls(),L(this.container,"is-animating"),this.isScaling&&L(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((function(){return e.animate()})))}},{key:"panWithMouse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("mouseMoveFriction");if(this.pmme=e,this.panMode===F&&e&&!(u(this.targetScale)<=u(this.minScale))){this.emit("mouseMove",e);var i=this.container,n=this.containerRect,a=this.contentRect,o=n.width,s=n.height,r=i.getBoundingClientRect(),l=(e.clientX||0)-r.left,c=(e.clientY||0)-r.top,h=this.calculateContentDim(this.target),d=h.contentWidth,f=h.contentHeight,v=this.option("mouseMoveFactor");v>1&&(d!==o&&(d*=v),f!==s&&(f*=v));var p=.5*(d-o)-l/o*100/100*(d-o);p+=.5*(a.right-a.left);var g=.5*(f-s)-c/s*100/100*(f-s);g+=.5*(a.bottom-a.top),this.applyChange({panX:p-this.target.e,panY:g-this.target.f,friction:t})}}},{key:"zoomWithWheel",value:function(e){if(this.state!==E.Destroy&&this.state!==E.Init){var t=Date.now();if(t-this.pwt<45)e.preventDefault();else{this.pwt=t;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),n=Math.max(-1,Math.min(1,i)),a=this.targetScale,o=this.maxScale,s=this.minScale,r=a*(100+45*n)/100;u(r)<u(s)&&u(a)<=u(s)?(this.cwd+=Math.abs(n),r=s):u(r)>u(o)&&u(a)>=u(o)?(this.cwd+=Math.abs(n),r=o):(this.cwd=0,r=Math.max(Math.min(r,o),s)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),u(r)!==u(a)&&this.zoomTo(r,{event:e}))}}}},{key:"canZoomIn",value:function(){return this.option("zoom")&&(u(this.contentRect.width,1)<u(this.contentRect.fitWidth,1)||u(this.targetScale)<u(this.maxScale))}},{key:"canZoomOut",value:function(){return this.option("zoom")&&u(this.targetScale)>u(this.minScale)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.25,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomToFit",value:function(e){this.zoomTo("fit",e)}},{key:"zoomToCover",value:function(e){this.zoomTo("cover",e)}},{key:"zoomToFull",value:function(e){this.zoomTo("full",e)}},{key:"zoomToMax",value:function(e){this.zoomTo("max",e)}},{key:"toggleZoom",value:function(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}},{key:"toggleMax",value:function(e){this.zoomTo(this.getNextScale("toggleMax"),e)}},{key:"toggleCover",value:function(e){this.zoomTo(this.getNextScale("toggleCover"),e)}},{key:"iterateZoom",value:function(e){this.zoomTo("next",e)}},{key:"zoomTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.friction,n=void 0===i?N:i,a=t.originX,o=void 0===a?N:a,s=t.originY,r=void 0===s?N:s,l=t.event;if(!this.isContentLoading&&this.state!==E.Destroy){var c=this.targetScale,u=this.fullScale,h=this.maxScale,d=this.coverScale;if(this.stop(),this.panMode===F&&(l=this.pmme||l),l||o===N||r===N){var f=this.content.getBoundingClientRect(),v=this.container.getBoundingClientRect(),p=l?l.clientX:v.left+.5*v.width,g=l?l.clientY:v.top+.5*v.height;o=p-f.left-.5*f.width,r=g-f.top-.5*f.height}var m=1;"number"==typeof e?m=e:"full"===e?m=u:"cover"===e?m=d:"max"===e?m=h:"fit"===e?m=1:"next"===e&&(m=this.getNextScale("iterateZoom")),m=m/c||1,n=n===N?m>1?.15:.25:n,this.applyChange({scale:m,originX:o,originY:r,friction:n}),l&&this.panMode===F&&this.panWithMouse(l,n)}}},{key:"rotateCCW",value:function(){this.applyChange({angle:-90})}},{key:"rotateCW",value:function(){this.applyChange({angle:90})}},{key:"flipX",value:function(){this.applyChange({flipX:!0})}},{key:"flipY",value:function(){this.applyChange({flipY:!0})}},{key:"fitX",value:function(){this.stop("target");var e=this.containerRect,t=this.contentRect,i=this.target;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-i.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"fitY",value:function(){this.stop("target");var e=this.containerRect,t=this.contentRect,i=this.target;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-i.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"toggleFS",value:function(){var e=this.container,t=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");e.classList.toggle(t);var n=e.classList.contains(t);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}},{key:"getMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=e.a,i=e.b,n=e.c,a=e.d,o=e.e,s=e.f;return new DOMMatrix([t,i,n,a,o,s])}},{key:"reset",value:function(e){if(this.state!==E.Init&&this.state!==E.Destroy){this.stop("current");for(var t=0,i=P;t<i.length;t++){var n=i[t];this.target[n]=R[n]}this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=E.Panning,this.requestTick())}}},{key:"destroy",value:function(){this.stop(),this.state=E.Destroy,this.detachEvents(),this.detachObserver();for(var e=this.container,t=this.content,i=this.option("classes")||{},n=0,a=Object.values(i);n<a.length;n++){var o=a[n];e.classList.remove(o+"")}t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}]),t}(S);Object.defineProperty(q,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:O}),Object.defineProperty(q,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var X,Y=function(e,t){var i=!0;return function(){i&&(i=!1,e.apply(void 0,arguments),setTimeout((function(){i=!0}),t))}},V=function(e,t){var i=[];return e.childNodes.forEach((function(e){e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||i.push(e)})),i};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Destroy=2]="Destroy"}(X||(X={}));var Z=function(e){if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{var t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({index:-1,slides:[],dim:0,pos:-1},e)},G=function(e){function t(e,i){var n;return babelHelpers.classCallCheck(this,t),n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,i)),Object.defineProperty(babelHelpers.assertThisInitialized(n),"instance",{enumerable:!0,configurable:!0,writable:!0,value:e}),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attach",value:function(){}},{key:"detach",value:function(){}}]),t}(C),K=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"list",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onRefresh",value:function(){this.refresh()}},{key:"build",value:function(){var e=this.list;if(!e){e=document.createElement("ul"),L(e,this.cn("list")),e.setAttribute("role","tablist");var t=this.instance.container;t.appendChild(e),L(t,this.cn("hasDots")),this.list=e}return e}},{key:"refresh",value:function(){var e,t=this.instance.pages.length,i=Math.min(2,this.option("minCount")),n=Math.max(2e3,this.option("maxCount")),a=this.option("dynamicFrom");if(t<i||t>n)this.cleanup();else{var o="number"==typeof a&&t>5&&t>=a,s=!this.list||this.isDynamic!==o||this.list.children.length!==t;s&&this.cleanup();var r=this.build();if(p(r,this.cn("isDynamic"),!!o),s)for(var l=0;l<t;l++)r.append(this.createItem(l));for(var c,u=0,h=0,d=babelHelpers.toConsumableArray(r.children);h<d.length;h++){var f=d[h],v=u===this.instance.page;v&&(c=f),p(f,this.cn("isCurrent"),v),null===(e=f.children[0])||void 0===e||e.setAttribute("aria-selected",v?"true":"false");for(var g=0,m=["isBeforePrev","isPrev","isNext","isAfterNext"];g<m.length;g++){var b=m[g];I(f,this.cn(b))}u++}if(c=c||r.firstChild,o&&c){var y=c.previousElementSibling,w=y&&y.previousElementSibling;L(y,this.cn("isPrev")),L(w,this.cn("isBeforePrev"));var k=c.nextElementSibling,x=k&&k.nextElementSibling;L(k,this.cn("isNext")),L(x,this.cn("isAfterNext"))}this.isDynamic=o}}},{key:"createItem",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=document.createElement("li");i.setAttribute("role","presentation");var n=f(this.instance.localize(this.option("dotTpl"),[["%d",t+1]]).replace(/\%i/g,t+""));return i.appendChild(n),null===(e=i.children[0])||void 0===e||e.setAttribute("role","tab"),i}},{key:"cleanup",value:function(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,I(this.instance.container,this.cn("hasDots"))}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),t}(G);Object.defineProperty(K,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});var J="disabled",$="next",Q="prev",ee=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onRefresh",value:function(){var e=this.instance,t=e.pages.length,i=e.page;if(t<2)this.cleanup();else{this.build();var n=this.prev,a=this.next;n&&a&&(n.removeAttribute(J),a.removeAttribute(J),e.isInfinite||(i<=0&&n.setAttribute(J,""),i>=t-1&&a.setAttribute(J,"")))}}},{key:"addBtn",value:function(e){var t,i=this.instance,n=document.createElement("button");n.setAttribute("tabindex","0"),n.setAttribute("title",i.localize("{{".concat(e.toUpperCase(),"}}"))),L(n,this.cn("button")+" "+this.cn(e===$?"isNext":"isPrev"));var a,o=i.isRTL?e===$?Q:$:e;return n.innerHTML=i.localize(this.option("".concat(o,"Tpl"))),n.dataset["carousel".concat((a=e,a?a.match("^[a-z]")?a.charAt(0).toUpperCase()+a.substring(1):a:""))]="true",null===(t=this.container)||void 0===t||t.appendChild(n),n}},{key:"build",value:function(){var e=this.instance.container,t=this.cn("container"),i=this.container,n=this.prev,a=this.next;i||(i=e.querySelector("."+t),this.isDom=!!i),i||(i=document.createElement("div"),L(i,t),e.appendChild(i)),this.container=i,a||(a=i.querySelector("[data-carousel-next]")),a||(a=this.addBtn($)),this.next=a,n||(n=i.querySelector("[data-carousel-prev]")),n||(n=this.addBtn(Q)),this.prev=n}},{key:"cleanup",value:function(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),t}(G);Object.defineProperty(ee,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var te=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"nav",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"addAsTargetFor",value:function(e){this.target=this.instance,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.nav=this.instance,this.target=e,this.attachEvents()}},{key:"attachEvents",value:function(){var e=this.nav,t=this.target;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===X.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===X.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}},{key:"onNavReady",value:function(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}},{key:"onTargetReady",value:function(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}},{key:"onNavClick",value:function(e,t,i){this.onNavTouch(e,e.panzoom,i)}},{key:"onNavTouch",value:function(e,t,i){var n,a;if(!(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)){var o=i.target,s=this.nav,r=this.target;if(s&&r&&o){var l=o.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),l){var c=parseInt(l.dataset.index||"",10)||0,u=r.getPageForSlide(c),h=s.getPageForSlide(c);s.slideTo(h),r.slideTo(u,{friction:(null===(a=null===(n=this.nav)||void 0===n?void 0:n.plugins)||void 0===a?void 0:a.Sync.option("friction"))||0}),this.markSelectedSlide(c)}}}}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e,t,i=this.target,n=this.nav;if(i&&n&&n.state===X.Ready&&i.state===X.Ready){var a=null===(t=null===(e=i.pages[i.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index,o=n.getPageForSlide(a);this.markSelectedSlide(a),n.slideTo(o,null===n.prevPage&&null===i.prevPage?{friction:0}:void 0)}}},{key:"markSelectedSlide",value:function(e){var t=this.nav;t&&t.state===X.Ready&&(this.selectedIndex=e,babelHelpers.toConsumableArray(t.slides).map((function(t){t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")})))}},{key:"attach",value:function(){var e=this,t=e.options.target,i=e.options.nav;t?e.addAsNavFor(t):i&&e.addAsTargetFor(i)}},{key:"detach",value:function(){var e=this,t=e.nav,i=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,i&&(i.off("ready",e.onTargetReady),i.off("refresh",e.onTargetChange),i.off("change",e.onTargetChange)),e.target=null}}]),t}(G);Object.defineProperty(te,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var ie={Navigation:ee,Dots:K,Sync:te},ne="animationend",ae="isSelected",oe="slide",se=function(e){function t(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(babelHelpers.classCallCheck(this,t),i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this)),Object.defineProperty(babelHelpers.assertThisInitialized(i),"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"state",{enumerable:!0,configurable:!0,writable:!0,value:X.Init}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(i),"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!z(e))throw new Error("No Element found");return i.container=e,i.slideNext=Y(i.slideNext.bind(babelHelpers.assertThisInitialized(i)),150),i.slidePrev=Y(i.slidePrev.bind(babelHelpers.assertThisInitialized(i)),150),i.userOptions=n,i.userPlugins=a,queueMicrotask((function(){i.processOptions()})),babelHelpers.possibleConstructorReturn(i)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"axis",get:function(){return this.isHorizontal?"e":"f"}},{key:"isEnabled",get:function(){return this.state===X.Ready}},{key:"isInfinite",get:function(){var e=!1,t=this.contentDim,i=this.viewportDim,n=this.pages,a=this.slides[0];return n.length>=2&&a&&t+a.dim>=i&&(e=this.option("infinite")),e}},{key:"isRTL",get:function(){return"rtl"===this.option("direction")}},{key:"isHorizontal",get:function(){return"x"===this.option("axis")}}]),babelHelpers.createClass(t,[{key:"processOptions",value:function(){var e,i,n=this,a=x({},t.defaults,this.userOptions),o="",s=a.breakpoints;if(s&&k(s))for(var r=0,l=Object.entries(s);r<l.length;r++){var c=babelHelpers.slicedToArray(l[r],2),u=c[0],h=c[1];window.matchMedia(u).matches&&k(h)&&(o+=u,x(a,h))}o===this.bp&&this.state!==X.Init||(this.bp=o,this.state===X.Ready&&(a.initialSlide=(null===(i=null===(e=this.pages[this.page])||void 0===e?void 0:e.slides[0])||void 0===i?void 0:i.index)||0),this.state!==X.Init&&this.destroy(),babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"setOptions",this).call(this,a),!1===this.option("enabled")?this.attachEvents():setTimeout((function(){n.init()}),0))}},{key:"init",value:function(){this.state=X.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},t.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=X.Ready,this.emit("ready")}},{key:"initLayout",value:function(){var e,t,i=this.container,n=this.option("classes");L(i,this.cn("container")),p(i,n.isLTR,!this.isRTL),p(i,n.isRTL,this.isRTL),p(i,n.isVertical,!this.isHorizontal),p(i,n.isHorizontal,this.isHorizontal);var a=this.option("viewport")||i.querySelector(".".concat(n.viewport));a||(a=document.createElement("div"),L(a,n.viewport),(e=a).append.apply(e,babelHelpers.toConsumableArray(V(i,".".concat(n.slide)))),i.prepend(a)),a.addEventListener("scroll",this.onScroll);var o=this.option("track")||i.querySelector(".".concat(n.track));o||(o=document.createElement("div"),L(o,n.track),(t=o).append.apply(t,babelHelpers.toConsumableArray(Array.from(a.childNodes)))),o.setAttribute("aria-live","polite"),a.contains(o)||a.prepend(o),this.viewport=a,this.track=o,this.emit("initLayout")}},{key:"initSlides",value:function(){var e=this,t=this.track;if(t){var i=babelHelpers.toConsumableArray(this.slides),n=[];babelHelpers.toConsumableArray(V(t,".".concat(this.cn(oe)))).forEach((function(t){if(z(t)){var i=Z({el:t,isDom:!0,index:e.slides.length});n.push(i)}}));for(var a=0,o=[].concat(babelHelpers.toConsumableArray(this.option("slides",[])||[]),babelHelpers.toConsumableArray(i));a<o.length;a++){var s=o[a];n.push(Z(s))}this.slides=n;for(var r=0;r<this.slides.length;r++)this.slides[r].index=r;for(var l=0,c=n;l<c.length;l++){var u=c[l];this.emit("beforeInitSlide",u,u.index),this.emit("initSlide",u,u.index)}this.emit("initSlides")}}},{key:"setInitialPage",value:function(){var e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}},{key:"setInitialPosition",value:function(){var e=this.track,t=this.pages,i=this.isHorizontal;if(e&&t.length){var n=this.page;t[n]||(this.page=n=0);var a=(t[n].pos||0)*(this.isRTL&&i?1:-1),o=i?"".concat(a,"px"):"0",s=i?"0":"".concat(a,"px");e.style.transform="translate3d(".concat(o,", ").concat(s,", 0) scale(1)"),this.option("adaptiveHeight")&&this.setViewportHeight()}}},{key:"initPanzoom",value:function(){var e=this;this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);var t=this.option("Panzoom")||{};this.panzoom=new q(this.viewport,x({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:function(t){return!(e.pages.length<2&&!t.options.infinite)},bounds:function(){return e.getBounds()},maxVelocity:function(t){return Math.abs(t.target[e.axis]-t.current[e.axis])<2*e.viewportDim?100:0}},t)),this.panzoom.on("*",(function(t,i){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];e.emit.apply(e,["Panzoom.".concat(i),t].concat(a))})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}},{key:"createPages",value:function(){var e=[],t=this.contentDim,i=this.viewportDim,n=this.option("slidesPerPage");n=("auto"===n||t<=i)&&!1!==this.option("fill")?1/0:parseFloat(n+"");var a,o=0,s=0,r=0,c=l(this.slides);try{for(c.s();!(a=c.n()).done;){var u=a.value;(!e.length||s+u.dim-i>.05||r>=n)&&(e.push(U()),o=e.length-1,s=0,r=0),e[o].slides.push(u),s+=u.dim+u.gap,r++}}catch(e){c.e(e)}finally{c.f()}return e}},{key:"processPages",value:function(){var e=this.pages,t=this.contentDim,i=this.viewportDim,n=this.isInfinite,a=this.option("center"),o=this.option("fill"),s=o&&a&&t>i&&!n;if(e.forEach((function(e,n){var o;e.index=n,e.pos=(null===(o=e.slides[0])||void 0===o?void 0:o.pos)||0,e.dim=0;var r,c=l(e.slides.entries());try{for(c.s();!(r=c.n()).done;){var u=babelHelpers.slicedToArray(r.value,2),h=u[0],d=u[1];e.dim+=d.dim,h<e.slides.length-1&&(e.dim+=d.gap)}}catch(e){c.e(e)}finally{c.f()}s&&e.pos+.5*e.dim<.5*i?e.pos=0:s&&e.pos+.5*e.dim>=t-.5*i?e.pos=t-i:a&&(e.pos+=-.5*(i-e.dim))})),e.forEach((function(e){o&&!n&&t>i&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,t-i)),e.pos=u(e.pos,1e3),e.dim=u(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)})),n)return e;var r,c=[];return e.forEach((function(e){var t=Object.assign({},e);r&&t.pos===r.pos?(r.dim+=t.dim,r.slides=[].concat(babelHelpers.toConsumableArray(r.slides),babelHelpers.toConsumableArray(t.slides))):(t.index=c.length,r=t,c.push(t))})),c}},{key:"getPageFromIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.pages.length;return e=parseInt((e||0).toString())||0,this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)}},{key:"getSlideMetrics",value:function(e){var t,i,n,a=this.isHorizontal?"width":"height",o=0,s=e.el,r=!(!s||s.parentNode);if(s?o=parseFloat(s.dataset[a]||"")||0:((s=document.createElement("div")).style.visibility="hidden",(this.track||document.body).prepend(s)),L(s,this.cn(oe)+" "+e.class+" "+e.customClass),o)s.style[a]="".concat(o,"px"),s.style["width"===a?"height":"width"]="";else{r&&(this.track||document.body).prepend(s),o=s.getBoundingClientRect()[a]*Math.max(1,(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1);var l=s[this.isHorizontal?"offsetWidth":"offsetHeight"];l-1>o&&(o=l)}var c=getComputedStyle(s);return"content-box"===c.boxSizing&&(this.isHorizontal?(o+=parseFloat(c.paddingLeft)||0,o+=parseFloat(c.paddingRight)||0):(o+=parseFloat(c.paddingTop)||0,o+=parseFloat(c.paddingBottom)||0)),n=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,r?null===(i=s.parentElement)||void 0===i||i.removeChild(s):e.el||s.remove(),{dim:u(o,1e3),gap:u(n,1e3)}}},{key:"getBounds",value:function(){var e=this.isInfinite,t=this.isRTL,i=this.isHorizontal,n=this.pages,a={min:0,max:0};if(e)a={min:-1/0,max:1/0};else if(n.length){var o=n[0].pos,s=n[n.length-1].pos;a=t&&i?{min:o,max:s}:{min:-1*s,max:-1*o}}return{x:i?a:{min:0,max:0},y:i?{min:0,max:0}:a}}},{key:"repositionSlides",value:function(){var e,t=this.isHorizontal,i=this.isRTL,n=this.isInfinite,a=this.viewport,o=this.viewportDim,s=this.contentDim,r=this.page,c=this.pages,h=this.slides,d=this.panzoom,f=0,v=0,p=0,g=0;d?g=-1*d.current[this.axis]:c[r]&&(g=c[r].pos||0),e=t?i?"right":"left":"top",i&&t&&(g*=-1);var m,b=l(h);try{for(b.s();!(m=b.n()).done;){var y=m.value,w=y.el;w?("top"===e?(w.style.right="",w.style.left=""):w.style.top="",y.index!==f?w.style[e]=0===v?"":"".concat(u(v,1e3),"px"):w.style[e]="",p+=y.dim+y.gap,f++):v+=y.dim+y.gap}}catch(e){b.e(e)}finally{b.f()}if(n&&p&&a){var k=getComputedStyle(a),x=t?"Right":"Bottom",T=parseFloat(k["padding"+(t?"Left":"Top")]);g-=T,o+=T,o+=parseFloat(k["padding"+x]);var C,E=l(h);try{for(E.s();!(C=E.n()).done;){var S=C.value;S.el&&(u(S.pos)<u(o)&&u(S.pos+S.dim+S.gap)<u(g)&&u(g)>u(s-o)&&(S.el.style[e]="".concat(u(v+p,1e3),"px")),u(S.pos+S.gap)>=u(s-o)&&u(S.pos)>u(g+o)&&u(g)<u(o)&&(S.el.style[e]="-".concat(u(p,1e3),"px")))}}catch(e){E.e(e)}finally{E.f()}}var P,M,O=babelHelpers.toConsumableArray(this.inTransition);if(O.length>1&&(P=c[O[0]],M=c[O[1]]),P&&M){var H,A=0,z=l(h);try{for(z.s();!(H=z.n()).done;){var I=H.value;I.el?this.inTransition.has(I.index)&&P.slides.indexOf(I)<0&&(I.el.style[e]="".concat(u(A+(P.pos-M.pos),1e3),"px")):A+=I.dim+I.gap}}catch(e){z.e(e)}finally{z.f()}}}},{key:"createSlideEl",value:function(e){var t=this.track,i=this.slides;if(t&&e&&(!e.el||!e.el.parentNode)){var n=e.el||document.createElement("div");L(n,this.cn(oe)),L(n,e.class),L(n,e.customClass);var a=e.html;a&&(a instanceof HTMLElement?n.appendChild(a):n.innerHTML=e.html+"");var o=[];i.forEach((function(e,t){e.el&&o.push(t)}));var s=e.index,r=null;o.length&&(r=i[o.reduce((function(e,t){return Math.abs(t-s)<Math.abs(e-s)?t:e}))]);var l=r&&r.el&&r.el.parentNode?r.index<e.index?r.el.nextSibling:r.el:null;t.insertBefore(n,t.contains(l)?l:null),e.el=n,this.emit("createSlide",e)}}},{key:"removeSlideEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null==e?void 0:e.el;if(i&&i.parentNode){var n=this.cn(ae);if(i.classList.contains(n)&&(I(i,n),this.emit("unselectSlide",e)),e.isDom&&!t)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),void(i.style.left="");this.emit("removeSlide",e);var a=new CustomEvent(ne);i.dispatchEvent(a),e.el&&(e.el.remove(),e.el=null)}}},{key:"transitionTo",value:function(){var e,t,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("transition");if(!o)return!1;var s=this.page,r=this.pages,l=this.panzoom;a=parseInt((a||0).toString())||0;var c=this.getPageFromIndex(a);if(!l||!r[c]||r.length<2||Math.abs(((null===(t=null===(e=r[s])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.dim)||0)-this.viewportDim)>1)return!1;var u=a>s?1:-1;this.isInfinite&&(0===s&&a===r.length-1&&(u=-1),s===r.length-1&&0===a&&(u=1));var h=r[c].pos*(this.isRTL?1:-1);if(s===c&&Math.abs(h-l.target[this.axis])<1)return!1;this.clearTransitions();var d=l.isResting;L(this.container,this.cn("inTransition"));var f=(null===(i=r[s])||void 0===i?void 0:i.slides[0])||null,v=(null===(n=r[c])||void 0===n?void 0:n.slides[0])||null;this.inTransition.add(v.index),this.createSlideEl(v);var p=f.el,g=v.el;d||o===oe||(o="fadeFast",p=null);var m=this.isRTL?"next":"prev",b=this.isRTL?"prev":"next";return p&&(this.inTransition.add(f.index),f.transition=o,p.addEventListener(ne,this.onAnimationEnd),p.classList.add("f-".concat(o,"Out"),"to-".concat(u>0?b:m))),g&&(v.transition=o,g.addEventListener(ne,this.onAnimationEnd),g.classList.add("f-".concat(o,"In"),"from-".concat(u>0?m:b))),l.current[this.axis]=h,l.target[this.axis]=h,l.requestTick(),this.onChange(c),!0}},{key:"manageSlideVisiblity",value:function(){var e,t=new Set,i=new Set,n=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0),a=l(this.slides);try{for(a.s();!(e=a.n()).done;){var o=e.value;n.has(o)?t.add(o):i.add(o)}}catch(e){a.e(e)}finally{a.f()}var s,r=l(this.inTransition);try{for(r.s();!(s=r.n()).done;){var c=s.value;t.add(this.slides[c])}}catch(e){r.e(e)}finally{r.f()}var u,h=l(t);try{for(h.s();!(u=h.n()).done;){var d=u.value;this.createSlideEl(d),this.lazyLoadSlide(d)}}catch(e){h.e(e)}finally{h.f()}var f,v=l(i);try{for(v.s();!(f=v.n()).done;){var p=f.value;t.has(p)||this.removeSlideEl(p)}}catch(e){v.e(e)}finally{v.f()}this.markSelectedSlides(),this.repositionSlides()}},{key:"markSelectedSlides",value:function(){if(this.pages[this.page]&&this.pages[this.page].slides){var e="aria-hidden",t=this.cn(ae);if(t){var i,n=l(this.slides);try{for(n.s();!(i=n.n()).done;){var a=i.value,o=a.el;o&&(o.dataset.index="".concat(a.index),o.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(a)?o.removeAttribute(e):o.setAttribute(e,"true"):this.pages[this.page].slides.includes(a)?(o.classList.contains(t)||(L(o,t),this.emit("selectSlide",a)),o.removeAttribute(e)):(o.classList.contains(t)&&(I(o,t),this.emit("unselectSlide",a)),o.setAttribute(e,"true")))}}catch(e){n.e(e)}finally{n.f()}}}}},{key:"flipInfiniteTrack",value:function(){var e=this.axis,t=this.isHorizontal,i=this.isInfinite,n=this.isRTL,a=this.viewportDim,o=this.contentDim,s=this.panzoom;if(s&&i){var r=s.current[e],l=s.target[e]-r,c=0,u=.5*a;n&&t?(r<-u&&(c=-1,r+=o),r>o-u&&(c=1,r-=o)):(r>u&&(c=1,r-=o),r<-o+u&&(c=-1,r+=o)),c&&(s.current[e]=r,s.target[e]=r+l)}}},{key:"lazyLoadImg",value:function(e,t){var i=this,n=this,a="f-fadeIn",o="is-preloading",s=!1,r=null,l=function(){s||(s=!0,r&&(r.remove(),r=null),I(t,o),t.complete&&(L(t,a),setTimeout((function(){I(t,a)}),350)),i.option("adaptiveHeight")&&e.el&&i.pages[i.page].slides.indexOf(e)>-1&&(n.updateMetrics(),n.setViewportHeight()),i.emit("load",e))};L(t,o),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",(function(){l()})),t.addEventListener("load",(function(){l()})),setTimeout((function(){var i=t.parentNode;i&&e.el&&(t.complete?l():s||(r=f(A),i.insertBefore(r,t)))}),300)}},{key:"lazyLoadSlide",value:function(e){var t=e&&e.el;if(t){var i=new Set,n=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&n.push(t),n.map((function(e){e instanceof HTMLImageElement?i.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage="url('".concat(e.dataset.lazySrc,"')"),delete e.dataset.lazySrc)}));var a,o=l(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.lazyLoadImg(e,s)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"onAnimationEnd",value:function(e){var t,i=e.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,a=this.slides[n],o=e.animationName;if(i&&a&&o){var s=!!this.inTransition.has(n)&&a.transition;s&&o.substring(0,s.length+2)==="f-".concat(s)&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}}},{key:"onDecel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.option("dragFree"))this.setPageFromPosition();else{var o=this.isRTL,s=this.isHorizontal,r=this.axis,l=this.pages,c=l.length,u=Math.abs(Math.atan2(i,t)/(Math.PI/180)),h=0;if(h=u>45&&u<135?s?0:i:s?t:0,c){var d=this.page,f=o&&s?1:-1,v=e.current[r]*f,p=this.getPageFromPosition(v),g=p.pageIndex;Math.abs(h)>5?(l[d].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(d=g),d=o&&s?h<0?d-1:d+1:h<0?d+1:d-1):d=0===n&&0===a?d:g,this.slideTo(d,{transition:!1,friction:e.option("decelFriction")})}}}},{key:"onClick",value:function(e){var t,i,n=e.target,a=n&&z(n)?n.dataset:null;a&&(void 0!==a.carouselPage?(i="slideTo",t=a.carouselPage):void 0!==a.carouselNext?i="slideNext":void 0!==a.carouselPrev&&(i="slidePrev")),i?(e.preventDefault(),e.stopPropagation(),n&&!n.hasAttribute("disabled")&&this[i](t)):this.emit("click",e)}},{key:"onSlideTo",value:function(e){var t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}},{key:"onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.page;this.prevPage=i,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==i&&(this.markSelectedSlides(),this.emit("change",e,i,t))}},{key:"onRefresh",value:function(){var e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}},{key:"onScroll",value:function(){var e;null===(e=this.viewport)||void 0===e||e.scroll(0,0)}},{key:"onResize",value:function(){this.option("breakpoints")&&this.processOptions()}},{key:"onBeforeTransform",value:function(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}},{key:"onEndAnimation",value:function(){this.inTransition.size||this.emit("settle")}},{key:"reInit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.destroy(),this.state=X.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}},{key:"slideTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.friction,n=void 0===i?this.option("friction"):i,a=t.transition,o=void 0===a?this.option("transition"):a;if(this.state!==X.Destroy){e=parseInt((e||0).toString())||0;var s=this.getPageFromIndex(e),r=this.axis,l=this.isHorizontal,c=this.isRTL,u=this.pages,h=this.panzoom,d=u.length,f=c&&l?1:-1;if(h&&d){if(this.page!==s){var v=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",v,e),v.defaultPrevented)return}if(!this.transitionTo(e,o)){var p=u[s].pos;if(this.isInfinite){var g=this.contentDim,m=h.target[r]*f;2===d?p+=g*Math.floor(parseFloat(e+"")/2):p=[p,p-g,p+g].reduce((function(e,t){return Math.abs(t-m)<Math.abs(e-m)?t:e}))}p*=f,Math.abs(h.target[r]-p)<1||(h.panTo({x:l?p:0,y:l?0:p,friction:n}),this.onChange(s))}}}}},{key:"slideToClosest",value:function(e){if(this.panzoom){var t=this.getPageFromPosition().pageIndex;this.slideTo(t,e)}}},{key:"slideNext",value:function(){this.slideTo(this.page+1)}},{key:"slidePrev",value:function(){this.slideTo(this.page-1)}},{key:"clearTransitions",value:function(){this.inTransition.clear(),I(this.container,this.cn("inTransition"));var e,t=["to-prev","to-next","from-prev","from-next"],i=l(this.slides);try{for(i.s();!(e=i.n()).done;){var n=e.value,a=n.el;if(a){var o;a.removeEventListener(ne,this.onAnimationEnd),(o=a.classList).remove.apply(o,t);var s=n.transition;s&&a.classList.remove("f-".concat(s,"Out"),"f-".concat(s,"In"))}}}catch(e){i.e(e)}finally{i.f()}this.manageSlideVisiblity()}},{key:"addSlide",value:function(e,t){var i,n,a,o,s,r,c=this.panzoom,u=(null===(n=this.pages[this.page])||void 0===n?void 0:n.pos)||0,h=(null===(a=this.pages[this.page])||void 0===a?void 0:a.dim)||0,d=this.contentDim<this.viewportDim,f=[],v=l(Array.isArray(t)?t:[t]);try{for(v.s();!(r=v.n()).done;){var p=r.value;f.push(Z(p))}}catch(e){v.e(e)}finally{v.f()}(i=this.slides).splice.apply(i,[e,0].concat(f));for(var g=0;g<this.slides.length;g++)this.slides[g].index=g;for(var m=0,b=f;m<b.length;m++){var y=b[m];this.emit("beforeInitSlide",y,y.index)}if(this.page>=e&&(this.page+=f.length),this.updateMetrics(),c){var w=(null===(o=this.pages[this.page])||void 0===o?void 0:o.pos)||0,k=(null===(s=this.pages[this.page])||void 0===s?void 0:s.dim)||0,x=this.pages.length||1,T=this.isRTL?h-k:k-h,C=this.isRTL?u-w:w-u;d&&1===x?(e<=this.page&&(c.current[this.axis]-=T,c.target[this.axis]-=T),c.panTo(babelHelpers.defineProperty({},this.isHorizontal?"x":"y",-1*w))):C&&e<=this.page&&(c.target[this.axis]-=C,c.current[this.axis]-=C,c.requestTick())}for(var E=0,S=f;E<S.length;E++){var P=S[E];this.emit("initSlide",P,P.index)}}},{key:"prependSlide",value:function(e){this.addSlide(0,e)}},{key:"appendSlide",value:function(e){this.addSlide(this.slides.length,e)}},{key:"removeSlide",value:function(e){var t=this.slides.length;e=(e%t+t)%t;var i=this.slides[e];if(i){this.removeSlideEl(i,!0),this.slides.splice(e,1);for(var n=0;n<this.slides.length;n++)this.slides[n].index=n;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",i)}}},{key:"updateMetrics",value:function(){var e=this.panzoom,t=this.viewport,i=this.track,n=this.slides,a=this.isHorizontal,o=this.isInfinite;if(i){var s=a?"width":"height",r=a?"offsetWidth":"offsetHeight";if(t){var c=Math.max(t[r],u(t.getBoundingClientRect()[s],1e3)),h=getComputedStyle(t),d=a?"Right":"Bottom";c-=parseFloat(h["padding"+(a?"Left":"Top")])+parseFloat(h["padding"+d]),this.viewportDim=c}var f,v,p=0,g=l(n.entries());try{for(g.s();!(v=g.n()).done;){var m,b=babelHelpers.slicedToArray(v.value,2),y=b[0],w=b[1],k=0,x=0;!w.el&&f?(k=f.dim,x=f.gap):(k=(m=this.getSlideMetrics(w)).dim,x=m.gap,f=w),k=u(k,1e3),x=u(x,1e3),w.dim=k,w.gap=x,w.pos=p,p+=k,(o||y<n.length-1)&&(p+=x)}}catch(e){g.e(e)}finally{g.f()}p=u(p,1e3),this.contentDim=p,e&&(e.contentRect[s]=p,e.contentRect[a?"fullWidth":"fullHeight"]=p),this.pages=this.createPages(),this.pages=this.processPages(),this.state===X.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}}},{key:"getProgress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];void 0===e&&(e=this.page);var n=this,a=n.panzoom,o=n.contentDim,s=n.pages[e]||0;if(!s||!a)return e>this.page?-1:1;var r=-1*a.current.e,l=u((r-s.pos)/(1*s.dim),1e3),c=l,h=l;this.isInfinite&&!0!==i&&(c=u((r-s.pos+o)/(1*s.dim),1e3),h=u((r-s.pos-o)/(1*s.dim),1e3));var d=[l,c,h].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return t?d:d>1?1:d<-1?-1:d}},{key:"setViewportHeight",value:function(){var e=this.page,t=this.pages,i=this.viewport,n=this.isHorizontal;if(i&&t[e]){var a=0;n&&this.track&&(this.track.style.height="auto",t[e].slides.forEach((function(e){e.el&&(a=Math.max(a,e.el.offsetHeight))}))),i.style.height=a?"".concat(a,"px"):""}}},{key:"getPageForSlide",value:function(e){var t,i=l(this.pages);try{for(i.s();!(t=i.n()).done;){var n,a=t.value,o=l(a.slides);try{for(o.s();!(n=o.n()).done;){if(n.value.index===e)return a.index}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}return-1}},{key:"getVisibleSlides",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=new Set,n=this.panzoom,a=this.contentDim,o=this.viewportDim,s=this.pages,r=this.page;if(o){a=a+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;var c=0;c=n&&n.state!==E.Init&&n.state!==E.Destroy?-1*n.current[this.axis]:s[r]&&s[r].pos||0,this.isInfinite&&(c-=Math.floor(c/a)*a),this.isRTL&&this.isHorizontal&&(c*=-1);var u,h=c-o*t,d=c+o*(t+1),f=this.isInfinite?[-1,0,1]:[0],v=l(this.slides);try{for(v.s();!(u=v.n()).done;){var p,g=u.value,m=l(f);try{for(m.s();!(p=m.n()).done;){var b=p.value,y=g.pos+b*a,w=y+g.dim+g.gap;y<d&&w>h&&i.add(g)}}catch(e){m.e(e)}finally{m.f()}}}catch(e){v.e(e)}finally{v.f()}}return i}},{key:"getPageFromPosition",value:function(e){var t,i=this.viewportDim,n=this.contentDim,a=this.slides,o=this.pages,s=this.panzoom,r=o.length,l=a.length,c=a[0],u=a[l-1],h=this.option("center"),d=0,f=void 0===e?-1*((null==s?void 0:s.target[this.axis])||0):e;h&&(f+=.5*i),this.isInfinite?(f<c.pos-.5*u.gap&&(f-=n,d=-1),f>u.pos+u.dim+.5*u.gap&&(f-=n,d=1)):f=Math.max(c.pos||0,Math.min(f,u.pos));var v=u,p=a.find((function(e){var t=e.pos-.5*v.gap,i=e.pos+e.dim+.5*e.gap;return v=e,f>=t&&f<i}));return p||(p=u),{page:(t=this.getPageForSlide(p.index))+d*r,pageIndex:t}}},{key:"setPageFromPosition",value:function(){var e=this.getPageFromPosition().pageIndex;this.onChange(e)}},{key:"destroy",value:function(){var e=this;if(![X.Destroy].includes(this.state)){this.state=X.Destroy;var t=this.container,i=this.viewport,n=this.track,a=this.slides,o=this.panzoom,s=this.option("classes");t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),o&&(o.destroy(),this.panzoom=null),a&&a.forEach((function(t){e.removeSlideEl(t)})),this.detachPlugins(),i&&(i.removeEventListener("scroll",this.onScroll),i.offsetParent&&n&&n.offsetParent&&i.replaceWith.apply(i,babelHelpers.toConsumableArray(n.childNodes)));for(var r=0,l=Object.entries(s);r<l.length;r++){var c=babelHelpers.slicedToArray(l[r],2),u=c[0],h=c[1];"container"!==u&&h&&t.classList.remove(h)}this.track=null,this.viewport=null,this.page=0,this.slides=[];var d=this.events.get("ready");this.events=new Map,d&&this.events.set("ready",d)}}}]),t}(S);Object.defineProperty(se,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:q}),Object.defineProperty(se,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(se,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:ie});var re,le,ce,ue=function(e){if(!z(e))return 0;var t=window.scrollY,i=window.innerHeight,n=t+i,a=e.getBoundingClientRect(),o=a.y+t,s=a.height,r=o+s;if(t>r||n<o)return 0;if(t<o&&n>r)return 100;if(o<t&&r>n)return 100;var l=s;o<t&&(l-=t-o),r>n&&(l-=r-n);var c=l/i*100;return Math.round(c)},he=!("undefined"==typeof window||!window.document||!window.document.createElement),de=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),fe=function(e){if(e&&he){void 0===re&&document.createElement("div").focus({get preventScroll(){return re=!0,!1}});try{if(re)e.focus({preventScroll:!0});else{var t=window.scrollY||document.body.scrollTop,i=window.scrollX||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:i,behavior:"auto"})}}catch(e){}}},ve=function(){var e,t=document,i="",n="",a="";return t.fullscreenEnabled?(i="requestFullscreen",n="exitFullscreen",a="fullscreenElement"):t.webkitFullscreenEnabled&&(i="webkitRequestFullscreen",n="webkitExitFullscreen",a="webkitFullscreenElement"),i&&(e={request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.documentElement;return"webkitRequestFullscreen"===i?e[i](Element.ALLOW_KEYBOARD_INPUT):e[i]()},exit:function(){return t[a]&&t[n]()},isFullscreen:function(){return t[a]}}),e},pe={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:function(){return window.matchMedia("(max-width: 578px), (max-height: 578px)").matches},contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},M),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},trapFocus:!0,wheel:"zoom"};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.CustomClosing=3]="CustomClosing",e[e.Destroy=4]="Destroy"}(le||(le={})),function(e){e[e.Loading=0]="Loading",e[e.Opening=1]="Opening",e[e.Ready=2]="Ready",e[e.Closing=3]="Closing"}(ce||(ce={}));var ge="",me=!1,be=!1,ye=null,we=function(){var e="",t="",i=At.getInstance();if(i){var n=i.carousel,a=i.getSlide();if(n&&a){var o=a.slug||void 0,s=a.triggerEl||void 0;!(t=o||i.option("slug")||"")&&s&&s.dataset&&(t=s.dataset.fancybox||""),t&&"true"!==t&&(e="#"+t+(!o&&n.slides.length>1?"-"+(a.index+1):""))}}return{hash:e,slug:t,index:1}},ke=function(){var e=new URL(document.URL).hash,t=e.slice(1).split("-"),i=t[t.length-1],n=i&&/^\+?\d+$/.test(i)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:n}},xe=function(){var e=ke(),t=e.slug,i=e.index;if(t){var n=document.querySelector('[data-slug="'.concat(t,'"]'));if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!At.getInstance()){var a=document.querySelectorAll('[data-fancybox="'.concat(t,'"]'));a.length&&((n=a[i-1])&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}}},Te=function(){if(!1!==At.defaults.Hash){var e=At.getInstance();if(!1!==(null==e?void 0:e.options.Hash)){var t=ke(),i=t.slug,n=t.index,a=we().slug;e&&(i===a?e.jumpTo(n-1):(me=!0,e.close())),xe()}}},Ce=function(){ye&&clearTimeout(ye),queueMicrotask((function(){Te()}))},Ee=function(){window.addEventListener("hashchange",Ce,!1),setTimeout((function(){Te()}),500)};he&&(/complete|interactive|loaded/.test(document.readyState)?Ee():document.addEventListener("DOMContentLoaded",Ee));var Se="is-zooming-in",Pe=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onCreateSlide",value:function(e,t,i){var n=this.instance.optionFor(i,"src")||"";i.el&&"image"===i.type&&"string"==typeof n&&this.setImage(i,n)}},{key:"onRemoveSlide",value:function(e,t,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}},{key:"onChange",value:function(e,t,i,n){I(this.instance.container,Se);var a,o=l(t.slides);try{for(o.s();!(a=o.n()).done;){var s=a.value,r=s.panzoom;r&&s.index!==i&&r.reset(.35)}}catch(e){o.e(e)}finally{o.f()}}},{key:"onClose",value:function(){var e,t=this.instance,i=t.container,n=t.getSlide();if(i&&i.parentElement&&n){var a=n.el,o=n.contentEl,s=n.panzoom,r=n.thumbElSrc;if(a&&r&&o&&s&&!s.isContentLoading&&s.state!==E.Init&&s.state!==E.Destroy){s.updateMetrics();var l=this.getZoomInfo(n);if(l){this.instance.state=le.CustomClosing,i.classList.remove(Se),i.classList.add("is-zooming-out"),o.style.backgroundImage="url('".concat(r,"')");var c=i.getBoundingClientRect();1===((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)&&Object.assign(i.style,{position:"absolute",top:"".concat(i.offsetTop+window.scrollY,"px"),left:"".concat(i.offsetLeft+window.scrollX,"px"),bottom:"auto",right:"auto",width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),overflow:"hidden"});var u=l.x,h=l.y,d=l.scale,f=l.opacity;if(f){var v=function(e,t,i,n){var a=t-e;return function(t){return 1+((t-e)/a*-1||0)}}(s.scale,d);s.on("afterTransform",(function(){o.style.opacity=v(s.scale)+""}))}s.on("endAnimation",(function(){t.destroy()})),s.target.a=d,s.target.b=0,s.target.c=0,s.target.d=d,s.panTo({x:u,y:h,scale:d,friction:f?.2:.33,ignoreBounds:!0}),s.isResting&&t.destroy()}}}}},{key:"setImage",value:function(e,t){var i=this,n=this.instance;e.src=t,this.process(e,t).then((function(t){var a=e.contentEl,o=e.imageEl,s=e.thumbElSrc,r=e.el;if(!n.isClosing()&&a&&o){a.offsetHeight;var l,c=!!n.isOpeningSlide(e)&&i.getZoomInfo(e);if(i.option("protected")&&r){r.addEventListener("contextmenu",(function(e){e.preventDefault()}));var u=document.createElement("div");L(u,"fancybox-protected"),a.appendChild(u)}if(s&&c){var h=t.contentRect,d=Math.max(h.fullWidth,h.fullHeight),f=null;!c.opacity&&d>1200&&(f=document.createElement("img"),L(f,"fancybox-ghost"),f.src=s,a.appendChild(f));var v=function(){f&&(L(f,"f-fadeFastOut"),setTimeout((function(){f&&(f.remove(),f=null)}),200))};(l=s,new Promise((function(e,t){var i=new Image;i.onload=e,i.onerror=t,i.src=l}))).then((function(){n.hideLoading(e),e.state=ce.Opening,i.instance.emit("reveal",e),i.zoomIn(e).then((function(){v(),i.instance.done(e)}),(function(){})),f&&setTimeout((function(){v()}),d>2500?800:200)}),(function(){n.hideLoading(e),n.revealContent(e)}))}else{var p=i.optionFor(e,"initialSize"),g=i.optionFor(e,"zoom"),m={event:n.prevMouseMoveEvent||n.options.event,friction:g?.12:0},b=n.optionFor(e,"showClass")||void 0,y=!0;n.isOpeningSlide(e)&&("full"===p?t.zoomToFull(m):"cover"===p?t.zoomToCover(m):"max"===p?t.zoomToMax(m):y=!1,t.stop("current")),y&&b&&(b=t.isDragging?"f-fadeIn":""),n.hideLoading(e),n.revealContent(e,b)}}}),(function(){n.setError(e,"{{IMAGE_ERROR}}")}))}},{key:"process",value:function(e,t){var i=this;return new Promise((function(n,a){var o,s=i.instance,r=e.el;s.clearContent(e),s.showLoading(e);var l=i.optionFor(e,"content");if("string"==typeof l&&(l=f(l)),!l||!z(l)){if((l=document.createElement("img"))instanceof HTMLImageElement){var c,u=e.caption;c="string"==typeof u&&u?u.replace(/<[^>]+>/gi,"").substring(0,1e3):"Image ".concat(e.index+1," of ").concat((null===(o=s.carousel)||void 0===o?void 0:o.pages.length)||1),l.src=t||"",l.alt=c,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset),i.instance.isOpeningSlide(e)&&(l.fetchPriority="high")}e.sizes&&l.setAttribute("sizes",e.sizes)}L(l,"fancybox-image"),e.imageEl=l,s.setContent(e,l,!1),e.panzoom=new q(r,x({transformParent:!0},i.option("Panzoom")||{},{content:l,width:function(t,i){return s.optionFor(e,"width","auto",i)||"auto"},height:function(t,i){return s.optionFor(e,"height","auto",i)||"auto"},wheel:function(){var e=s.option("wheel");return("zoom"===e||"pan"==e)&&e},click:function(t,i){var n,a;if(s.isCompact||s.isClosing())return!1;if(e.index!==(null===(n=s.getSlide())||void 0===n?void 0:n.index))return!1;if(i){var o=i.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(o.nodeName))return!1}var r=!i||i.target&&(null===(a=e.contentEl)||void 0===a?void 0:a.contains(i.target));return s.option(r?"contentClick":"backdropClick")||!1},dblClick:function(){return s.isCompact?"toggleZoom":s.option("contentDblClick")||!1},spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:function(e){n(e)},error:function(){a()},destroy:function(){a()}}}))}))}},{key:"zoomIn",value:function(e){var t=this;return new Promise((function(i,n){var a=t.instance,o=a.container,s=e.panzoom,r=e.contentEl,l=e.el;s&&s.updateMetrics();var c=t.getZoomInfo(e);if(c&&l&&r&&s&&o){var u=c.x,h=c.y,d=c.scale,f=c.opacity,v=function(){e.state!==ce.Closing&&(f&&(r.style.opacity=Math.max(Math.min(1,1-(1-s.scale)/(1-d)),0)+""),s.scale>=1&&s.scale>s.targetScale-.1&&i(s))},p=function e(t){(t.scale<.99||t.scale>1.01)&&!t.isDragging||(I(o,Se),r.style.opacity="",t.off("endAnimation",e),t.off("touchStart",e),t.off("afterTransform",v),i(t))};s.on("endAnimation",p),s.on("touchStart",p),s.on("afterTransform",v),s.on(["error","destroy"],(function(){n()})),s.panTo({x:u,y:h,scale:d,friction:0,ignoreBounds:!0}),s.stop("current");var g={event:"mousemove"===s.panMode?a.prevMouseMoveEvent||a.options.event:void 0},m=t.optionFor(e,"initialSize");L(o,Se),a.hideLoading(e),"full"===m?s.zoomToFull(g):"cover"===m?s.zoomToCover(g):"max"===m?s.zoomToMax(g):s.reset(.172)}else n()}))}},{key:"getZoomInfo",value:function(e){var t=e.el,i=e.imageEl,n=e.thumbEl,a=e.panzoom,o=this.instance,s=o.container;if(!t||!i||!n||!a||ue(n)<3||!this.optionFor(e,"zoom")||!s||o.state===le.Destroy)return!1;if("0"===getComputedStyle(s).getPropertyValue("--f-images-zoom"))return!1;var r=window.visualViewport||null;if(1!==(r?r.scale:1))return!1;var l=n.getBoundingClientRect(),c=l.top,u=l.left,h=l.width,d=l.height,f=a.contentRect,v=f.top,p=f.left,g=f.fitWidth,m=f.fitHeight;if(!(h&&d&&g&&m))return!1;var b=a.container.getBoundingClientRect(),y=-1*((p+=b.left)+.5*g-(u+.5*h)),w=-1*((v+=b.top)+.5*m-(c+.5*d)),k=h/g,x=this.option("zoomOpacity")||!1;return"auto"===x&&(x=Math.abs(h/d-g/m)>.1),{x:y,y:w,scale:k,opacity:x}}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}]),t}(G);Object.defineProperty(Pe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;var Me="html",Oe="youtube",He="vimeo",Ae="html5video",ze=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new URL(e),n=new URLSearchParams(i.search),a=new URLSearchParams,o=0,s=[].concat(babelHelpers.toConsumableArray(n),babelHelpers.toConsumableArray(Object.entries(t)));o<s.length;o++){var r=babelHelpers.slicedToArray(s[o],2),l=r[0],c=r[1],u=c+"";if("t"===l){var h=u.match(/((\d*)m)?(\d*)s?/);h&&a.set("start",60*parseInt(h[2]||"0")+parseInt(h[3]||"0")+"")}else a.set(l,u)}var d=a+"",f=e.match(/#t=((.*)?\d+s)/);return f&&(d+="#t=".concat(f[1])),d},Ie=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"],Le=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onBeforeInitSlide",value:function(e,t,i){this.processType(i)}},{key:"onCreateSlide",value:function(e,t,i){this.setContent(i)}},{key:"onClearContent",value:function(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);var i=t.iframeEl;i&&(i.onload=i.onerror=null,i.src="//about:blank",t.iframeEl=null);var n=t.contentEl,a=t.placeholderEl;if("inline"===t.type&&n&&a)n.classList.remove("fancybox__content"),"none"!==getComputedStyle(n).getPropertyValue("display")&&(n.style.display="none"),setTimeout((function(){a&&(n&&a.parentNode&&a.parentNode.insertBefore(n,a),a.remove())}),0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}},{key:"onSelectSlide",value:function(e,t,i){i.state===ce.Ready&&this.playVideo()}},{key:"onUnselectSlide",value:function(e,t,i){var n,a,o;if(i.type!==Ae)i.type===He?o={method:"pause",value:"true"}:i.type===Oe&&(o={event:"command",func:"pauseVideo"}),o&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),i.poller&&clearTimeout(i.poller);else try{null===(a=null===(n=i.el)||void 0===n?void 0:n.querySelector("video"))||void 0===a||a.pause()}catch(e){}}},{key:"onDone",value:function(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}},{key:"onRefresh",value:function(e,t){var i=this;t.slides.forEach((function(e){e.el&&(i.resizeIframe(e),i.setAspectRatio(e))}))}},{key:"onMessage",value:function(e){try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(var i=0,n=Array.from(document.getElementsByClassName("fancybox__iframe"));i<n.length;i++){var a=n[i];a instanceof HTMLIFrameElement&&a.contentWindow===e.source&&(a.dataset.ready="true")}}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){var o=document.getElementById(t.id);o&&(o.dataset.ready="true")}}catch(e){}}},{key:"loadAjaxContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);var i=this.instance,n=new XMLHttpRequest;i.showLoading(e),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===le.Ready&&(i.hideLoading(e),200===n.status?i.setContent(e,n.responseText):i.setError(e,404===n.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};var a=e.ajax||null;n.open(a?"POST":"GET",t+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(a),e.xhr=n}},{key:"setInlineContent",value:function(e){var t=null;if(z(e.src))t=e.src;else if("string"==typeof e.src){var i=e.src.split("#",2).pop();t=i?document.getElementById(i):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){var n=(t=t.cloneNode(!0)).dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);var a=t.getAttribute("id");a=a?"".concat(a,"--clone"):"clone-".concat(this.instance.id,"-").concat(e.index),t.setAttribute("id",a)}else if(t.parentNode){var o=document.createElement("div");o.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(o,t),e.placeholderEl=o}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"setIframeContent",value:function(e){var t=this,i=e.src,n=e.el;if(i&&"string"==typeof i&&n){n.classList.add("is-loading");var a=this.instance,o=document.createElement("iframe");o.className="fancybox__iframe",o.setAttribute("id","fancybox__iframe_".concat(a.id,"_").concat(e.index));for(var s=0,r=Object.entries(this.optionFor(e,"iframeAttr")||{});s<r.length;s++){var l=babelHelpers.slicedToArray(r[s],2),c=l[0],u=l[1];o.setAttribute(c,u)}o.onerror=function(){a.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=o;var h=this.optionFor(e,"preload");if("iframe"!==e.type||!1===h)return o.setAttribute("src",e.src+""),a.setContent(e,o,!1),this.resizeIframe(e),void a.revealContent(e);a.showLoading(e),o.onload=function(){if(o.src.length){var i="true"!==o.dataset.ready;o.dataset.ready="true",t.resizeIframe(e),i?a.revealContent(e):a.hideLoading(e)}},o.setAttribute("src",i),a.setContent(e,o,!1)}}},{key:"resizeIframe",value:function(e){var t=e.type,i=e.iframeEl;if(t!==Oe&&t!==He){var n=null==i?void 0:i.parentElement;if(i&&n){var a=e.autoSize;void 0===a&&(a=this.optionFor(e,"autoSize"));var o=e.width||0,s=e.height||0;o&&s&&(a=!1);var r=n&&n.style;if(!1!==e.preload&&!1!==a&&r)try{var l=window.getComputedStyle(n),c=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),u=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),h=i.contentWindow;if(h){var d=h.document,f=d.getElementsByTagName(Me)[0],v=d.body;r.width="",v.style.overflow="hidden",o=o||f.scrollWidth+c,r.width="".concat(o,"px"),v.style.overflow="",r.flex="0 0 auto",r.height="".concat(v.scrollHeight,"px"),s=f.scrollHeight+u}}catch(e){}if(o||s){var p={flex:"0 1 auto",width:"",height:""};o&&"auto"!==o&&(p.width="".concat(o,"px")),s&&"auto"!==s&&(p.height="".concat(s,"px")),Object.assign(r,p)}}}}},{key:"playVideo",value:function(){var e=this.instance.getSlide();if(e){var t=e.el;if(t&&t.offsetParent&&this.optionFor(e,"videoAutoplay")){if(e.type===Ae)try{var i=t.querySelector("video");if(i){var n=i.play();void 0!==n&&n.then((function(){})).catch((function(e){i.muted=!0,i.play()}))}}catch(e){}if(e.type===Oe||e.type===He){!function t(){if(e.iframeEl&&e.iframeEl.contentWindow){var i;if("true"===e.iframeEl.dataset.ready)return(i=e.type===Oe?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&e.iframeEl.contentWindow.postMessage(JSON.stringify(i),"*"),void(e.poller=void 0);e.type===Oe&&(i={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(i),"*"))}e.poller=setTimeout(t,250)}()}}}}},{key:"processType",value:function(e){if(e.html)return e.type=Me,e.src=e.html,void(e.html="");var t=this.instance.optionFor(e,"src","");if(t&&"string"==typeof t){var i=e.type,n=null;if(n=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var a=this.optionFor(e,Oe),o=a.nocookie,s=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i}(a,["nocookie"]),r="www.youtube".concat(o?"-nocookie":"",".com"),l=ze(t,s),c=encodeURIComponent(n[2]);e.videoId=c,e.src="https://".concat(r,"/embed/").concat(c,"?").concat(l),e.thumbSrc=e.thumbSrc||"https://i.ytimg.com/vi/".concat(c,"/mqdefault.jpg"),i=Oe}else if(n=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){var u=ze(t,this.optionFor(e,He)),h=encodeURIComponent(n[1]),d=n[4]||"";e.videoId=h,e.src="https://player.vimeo.com/video/".concat(h,"?").concat(d?"h=".concat(d).concat(u?"&":""):"").concat(u),i=He}if(!i&&e.triggerEl){var f=e.triggerEl.dataset.type;Ie.includes(f)&&(i=f)}i||"string"==typeof t&&("#"===t.charAt(0)?i="inline":(n=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i=Ae,e.videoFormat=e.videoFormat||"video/"+("ogv"===n[1]?"ogg":n[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":t.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="https://maps.google.".concat(n[1],"/?ll=").concat((n[2]?n[2]+"&z="+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&"),"&output=").concat(n[4]&&n[4].indexOf("layer=c")>0?"svembed":"embed"),i="map"):(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="https://maps.google.".concat(n[1],"/maps?q=").concat(n[2].replace("query=","q=").replace("api=1",""),"&output=embed"),i="map"),i=i||this.instance.option("defaultType"),e.type=i,"image"===i&&(e.thumbSrc=e.thumbSrc||e.src)}}},{key:"setContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case Me:this.instance.setContent(e,t);break;case Ae:var i=this.option("videoTpl");i&&this.instance.setContent(e,i.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"map":case Oe:case He:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}},{key:"setAspectRatio",value:function(e){var t=e.contentEl;if(e.el&&t&&e.type&&[Oe,He,Ae].includes(e.type)){var i,n=e.width||"auto",a=e.height||"auto";if("auto"===n||"auto"===a){var o=((i=this.optionFor(e,"videoRatio"))+"").match(/(\d+)\s*\/\s?(\d+)/);i=o&&o.length>2?parseFloat(o[1])/parseFloat(o[2]):parseFloat(i+"")}else n&&a&&(i=n/a);if(i){t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;var s=t.getBoundingClientRect(),r=s.width||1,l=s.height||1;t.style.aspectRatio=i+"",i<r/l?(a="auto"===a?l:Math.min(l,a),t.style.width="auto",t.style.height="".concat(a,"px")):(n="auto"===n?r:Math.min(r,n),t.style.width="".concat(n,"px"),t.style.height="auto")}}}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}}]),t}(G);Object.defineProperty(Le,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});var Re="play",De="pause",Fe="ready",je=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:Fe}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onReady",value:function(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}},{key:"onChange",value:function(){this.removeProgressBar(),this.pause()}},{key:"onSettle",value:function(){this.resume()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.resume():this.pause()}},{key:"onMouseEnter",value:function(){this.inHover=!0,this.pause()}},{key:"onMouseLeave",value:function(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}},{key:"onTimerEnd",value:function(){var e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}},{key:"removeProgressBar",value:function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}},{key:"createProgressBar",value:function(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();var t=this.instance,i=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[],n=this.option("progressParentEl");if(n||(n=(1===i.length?i[0].el:null)||t.viewport),!n)return null;var a=document.createElement("div");return L(a,"f-progress"),n.prepend(a),this.progressBar=a,a.offsetHeight,a}},{key:"set",value:function(){var e=this,t=e.instance;if(!(t.pages.length<2||e.timer)){var i=e.option("timeout");e.state=Re,L(t.container,"has-autoplay");var n=e.createProgressBar();n&&(n.style.transitionDuration="".concat(i,"ms"),n.style.transform="scaleX(1)"),e.timer=setTimeout((function(){e.timer=null,e.inHover||e.onTimerEnd()}),i),e.emit("set")}}},{key:"clear",value:function(){var e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}},{key:"start",value:function(){var e=this;if(e.set(),e.state!==Fe){if(e.option("pauseOnHover")){var t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}},{key:"stop",value:function(){var e=this,t=e.state,i=e.instance.container;e.clear(),e.state=Fe,i.removeEventListener("mouseenter",e.onMouseEnter,!1),i.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),I(i,"has-autoplay"),t!==Fe&&e.emit("stop")}},{key:"pause",value:function(){var e=this;e.state===Re&&(e.state=De,e.clear(),e.emit(De))}},{key:"resume",value:function(){var e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==Re){if(e.state===De&&!e.inHover){var i=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",i),i.defaultPrevented||e.set()}}else e.set();else e.stop()}},{key:"toggle",value:function(){this.state===Re||this.state===De?this.stop():this.start()}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}},{key:"isActive",get:function(){return this.state!==Fe}}]),t}(G);Object.defineProperty(je,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});var Be=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onPrepare",value:function(e){var t=this,i=e.carousel;if(i){var n=e.container;n&&(i.options.Autoplay=x({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:function(){return t.option("progressParentEl")||null},on:{start:function(){e.emit("startSlideshow")},set:function(t){var i;n.classList.add("has-slideshow"),(null===(i=e.getSlide())||void 0===i?void 0:i.state)!==ce.Ready&&t.pause()},stop:function(){n.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:function(t,i){var n,a,o;!i||!i.cancelable||(null===(n=e.getSlide())||void 0===n?void 0:n.state)===ce.Ready&&(null===(o=null===(a=e.carousel)||void 0===a?void 0:a.panzoom)||void 0===o?void 0:o.isResting)||i.preventDefault()}}}),i.attachPlugins({Autoplay:je}),this.ref=i.plugins.Autoplay)}}},{key:"onReady",value:function(e){var t=e.carousel,i=this.ref;i&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&i.start()}},{key:"onDone",value:function(e,t){var i=this.ref,n=e.carousel;if(i&&n){var a=t.panzoom;a&&a.on("startAnimation",(function(){e.isCurrentSlide(t)&&i.stop()})),e.isCurrentSlide(t)&&i.resume()}}},{key:"onKeydown",value:function(e,t){var i,n=this.ref;n&&t===this.option("key")&&"BUTTON"!==(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName)&&n.toggle()}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}]),t}(G);Object.defineProperty(Be,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:function(e){var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});var Ne,_e={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Hidden=2]="Hidden"}(Ne||(Ne={}));var We="isResting",qe="thumbWidth",Xe="thumbHeight",Ye="thumbClipWidth",Ve=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:Ne.Init}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onInitSlide",value:function(e,t){var i=t.el?t.el.dataset:void 0;i&&(t.thumbSrc=i.thumbSrc||t.thumbSrc||"",t[Ye]=parseFloat(i[Ye]||"")||t[Ye]||0,t[Xe]=parseFloat(i.thumbHeight||"")||t[Xe]||0),this.addSlide(t)}},{key:"onInitSlides",value:function(){this.build()}},{key:"onChange",value:function(){var e;if(this.isModern){var t=this.container,i=this.instance,n=i.panzoom,a=this.carousel,o=a?a.panzoom:null,s=i.page;if(n&&a&&o){if(n.isDragging){I(t,this.cn(We));var r=(null===(e=a.pages[s])||void 0===e?void 0:e.pos)||0;r+=i.getProgress(s)*(this[Ye]+this.thumbGap);var l=o.getBounds();-1*r>l.x.min&&-1*r<l.x.max&&o.panTo({x:-1*r,friction:.12})}else p(t,this.cn(We),n.isResting);this.shiftModern()}}}},{key:"onRefresh",value:function(){this.updateProps();var e,t=l(this.instance.slides||[]);try{for(t.s();!(e=t.n()).done;){var i=e.value;this.resizeModernSlide(i)}}catch(e){t.e(e)}finally{t.f()}this.shiftModern()}},{key:"isDisabled",value:function(){var e=this.option("minCount")||0;if(e){var t,i=0,n=l(this.instance.slides||[]);try{for(n.s();!(t=n.n()).done;){t.value.thumbSrc&&i++}}catch(e){n.e(e)}finally{n.f()}if(i<e)return!0}var a=this.option("type");return["modern","classic"].indexOf(a)<0}},{key:"getThumb",value:function(e){var t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}},{key:"addSlide",value:function(e){var t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))}},{key:"getSlides",value:function(){var e,t=[],i=l(this.instance.slides||[]);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.push(this.getThumb(n))}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"resizeModernSlide",value:function(e){this.isModern&&(e[qe]=e[Ye]&&e[Xe]?Math.round(this[Xe]*(e[Ye]/e[Xe])):this[qe])}},{key:"updateProps",value:function(){var e=this.container;if(e){var t=function(t){return parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-"+t))||0};this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[qe]=t("width")||40,this[Ye]=t("clip-width")||40,this[Xe]=t("height")||40}}},{key:"build",value:function(){var e=this;if(e.state===Ne.Init)if(e.isDisabled())e.emit("disabled");else{var t=e.instance,i=t.container,n=e.getSlides(),a=e.option("type");e.type=a;var o=e.option("parentEl"),s=e.cn("container"),r=e.cn("track"),l=null==o?void 0:o.querySelector("."+s);l||(l=document.createElement("div"),L(l,s),o?o.appendChild(l):i.after(l)),L(l,"is-".concat(a)),L(i,e.cn("hasThumbs")),e.container=l,e.updateProps();var c=l.querySelector("."+r);c||(c=document.createElement("div"),L(c,e.cn("track")),l.appendChild(c)),e.track=c;var u=x({},{track:c,infinite:!1,center:!0,fill:"classic"===a,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},e.option("Carousel")||{},{Sync:{target:t},slides:n}),h=new t.constructor(l,u);h.on("createSlide",(function(t,i){e.setProps(i.index),e.emit("createSlide",i,i.el)})),h.on("ready",(function(){e.shiftModern(),e.emit("ready")})),h.on("refresh",(function(){e.shiftModern()})),h.on("Panzoom.click",(function(t,i,n){e.onClick(n)})),e.carousel=h,e.state=Ne.Ready}}},{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.instance,i=t.pages,n=t.page,a=function(e){if(e){var t=e.closest("[data-carousel-index]");if(t)return[parseInt(t.dataset.carouselIndex||"",10)||0,t]}return[-1,void 0]},o=function(e,t){var i=document.elementFromPoint(e,t);return i?a(i):[-1,void 0]},s=a(e.target),r=babelHelpers.slicedToArray(s,2),l=r[0];r[1];if(!(l>-1)){var c=this[Ye],u=e.clientX,h=e.clientY,d=o(u-c,h),f=babelHelpers.slicedToArray(d,2),v=f[0],p=f[1],g=o(u+c,h),m=babelHelpers.slicedToArray(g,2),b=m[0],y=m[1];p&&y?(l=Math.abs(u-p.getBoundingClientRect().right)<Math.abs(u-y.getBoundingClientRect().left)?v:b)===n&&(l=l===v?b:v):p?l=v:y&&(l=b),l>-1&&i[l]&&t.slideTo(l)}}},{key:"getShift",value:function(e){var t,i=this,n=i.instance,a=i.carousel;if(!n||!a)return 0;var o=i[qe],s=i[Ye],r=i.thumbGap,l=i.thumbExtraGap;if(!(null===(t=a.slides[e])||void 0===t?void 0:t.el))return 0;var c=.5*(o-s),u=n.pages.length-1,h=n.getProgress(0),d=n.getProgress(u),f=n.getProgress(e,!1,!0),v=0,p=c+l+r,g=h<0&&h>-1,m=d>0&&d<1;return 0===e?(v=p*Math.abs(h),m&&1===h&&(v-=p*Math.abs(d))):e===u?(v=p*Math.abs(d)*-1,g&&-1===d&&(v+=p*Math.abs(h))):g||m?(v=-1*p,v+=p*Math.abs(h),v+=p*(1-Math.abs(d))):v=p*f,v}},{key:"setProps",value:function(e){var t,i=this;if(i.isModern){var n=i.instance,a=i.carousel;if(n&&a){var o=null===(t=a.slides[e])||void 0===t?void 0:t.el;if(o&&o.childNodes.length){var s=u(1-Math.abs(n.getProgress(e))),r=u(i.getShift(e));o.style.setProperty("--progress",s?s+"":""),o.style.setProperty("--shift",r+"")}}}}},{key:"shiftModern",value:function(){var e=this;if(e.isModern){var t=e.instance,i=e.track,n=t.panzoom,a=e.carousel;if(t&&i&&n&&a&&n.state!==E.Init&&n.state!==E.Destroy){var o,s=l(t.slides);try{for(s.s();!(o=s.n()).done;){var r=o.value;e.setProps(r.index)}}catch(e){s.e(e)}finally{s.f()}var c=(e[Ye]+e.thumbGap)*(a.slides.length||0);i.style.setProperty("--width",c+"")}}}},{key:"cleanup",value:function(){var e=this;e.carousel&&e.carousel.destroy(),e.carousel=null,e.container&&e.container.remove(),e.container=null,e.track&&e.track.remove(),e.track=null,e.state=Ne.Init,I(e.instance.container,e.cn("hasThumbs"))}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===X.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on(["change","Panzoom.afterTransform"],e.onChange),t.on("Panzoom.refresh",e.onRefresh)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off(["change","Panzoom.afterTransform"],e.onChange),t.off("Panzoom.refresh",e.onRefresh),e.cleanup()}},{key:"isModern",get:function(){return"modern"===this.type}}]),t}(G);Object.defineProperty(Ve,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:_e});var Ze=Object.assign(Object.assign({},_e),{key:"t",showOnStart:!0,parentEl:null}),Ue="is-masked",Ge="aria-hidden",Ke=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(e,t){t.stopPropagation()}},{key:"onCreateSlide",value:function(e,t){var i,n,a,o=(null===(a=null===(n=null===(i=this.instance)||void 0===i?void 0:i.carousel)||void 0===n?void 0:n.slides[t.index])||void 0===a?void 0:a.type)||"",s=t.el;if(s&&o){var r="for-".concat(o);["video","youtube","vimeo","html5video"].includes(o)&&(r+=" for-video"),L(s,r)}}},{key:"onInit",value:function(){var e,t=this,i=this,n=i.instance,a=n.carousel;if(!i.ref&&a){var o=i.option("parentEl")||n.footer||n.container;if(o){var s=x({},i.options,{parentEl:o,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:n.option("Carousel.friction")||0}},on:{ready:function(e){var n=e.container;n&&t.hidden&&(i.refresh(),n.style.transition="none",i.hide(),n.offsetHeight,queueMicrotask((function(){n.style.transition="",i.show()})))}}});s.Carousel=s.Carousel||{},s.Carousel.on=x((null===(e=i.options.Carousel)||void 0===e?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),a.options.Thumbs=s,a.attachPlugins({Thumbs:Ve}),i.ref=a.plugins.Thumbs,i.option("showOnStart")||(i.ref.state=Ne.Hidden,i.hidden=!0)}}}},{key:"onResize",value:function(){var e,t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}},{key:"onKeydown",value:function(e,t){var i=this.option("key");i&&i===t&&this.toggle()}},{key:"toggle",value:function(){var e=this.ref;if(e&&!e.isDisabled())return e.state===Ne.Hidden?(e.state=Ne.Init,void e.build()):void(this.hidden?this.show():this.hide())}},{key:"show",value:function(){var e=this.ref;if(e&&!e.isDisabled()){var t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(Ge),t.classList.remove(Ue),this.hidden=!1)}}},{key:"hide",value:function(){var e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(Ue),t.setAttribute(Ge,"true")),this.hidden=!0}},{key:"refresh",value:function(){var e=this.ref;if(e&&e.state){var t=e.container,i=(null==t?void 0:t.firstChild)||null;t&&i&&i.childNodes.length&&(t.style.maxHeight="".concat(i.getBoundingClientRect().height,"px"))}}},{key:"attach",value:function(){var e=this,t=e.instance;t.state===le.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}},{key:"detach",value:function(){var e,t=this,i=t.instance;i.off("Carousel.init",t.onInit),i.off("resize",t.onResize),i.off("keydown",t.onKeydown),null===(e=i.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),t.ref=null}},{key:"isEnabled",get:function(){var e=this.ref;return e&&!e.isDisabled()}},{key:"isHidden",get:function(){return this.hidden}}]),t}(G);Object.defineProperty(Ke,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ze});var Je,$e={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Disabled=2]="Disabled"}(Je||(Je={}));var Qe={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},et="has-toolbar",tt="fancybox__toolbar",it=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:Je.Init}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onReady",value:function(e){var t;if(e.carousel){var i=this.option("display"),n=this.option("absolute"),a=this.option("enabled");if("auto"===a){var o=this.instance.carousel,s=0;if(o){var r,c=l(o.slides);try{for(c.s();!(r=c.n()).done;){var u=r.value;(u.panzoom||"image"===u.type)&&s++}}catch(e){c.e(e)}finally{c.f()}}s||(a=!1)}a||(i=void 0);var h=0,d={left:[],middle:[],right:[]};if(i)for(var f=0,v=["left","middle","right"];f<v.length;f++){var p,g=v[f],m=l(i[g]);try{for(m.s();!(p=m.n()).done;){var b=p.value,y=this.createEl(b);y&&(null===(t=d[g])||void 0===t||t.push(y),h++)}}catch(e){m.e(e)}finally{m.f()}}var w=null;if(h&&(w=this.createContainer()),w){for(var k=0,x=Object.entries(d);k<x.length;k++){var T=babelHelpers.slicedToArray(x[k],2),C=T[0],E=T[1],S=document.createElement("div");L(S,tt+"__column is-"+C);var P,M=l(E);try{for(M.s();!(P=M.n()).done;){var O=P.value;S.appendChild(O)}}catch(e){M.e(e)}finally{M.f()}"auto"!==n||"middle"!==C||E.length||(n=!0),w.appendChild(S)}!0===n&&L(w,"is-absolute"),this.state=Je.Ready,this.onRefresh()}else this.state=Je.Disabled}}},{key:"onClick",value:function(e){var t,i,n=this.instance,a=n.getSlide(),o=null==a?void 0:a.panzoom,s=e.target,r=s&&z(s)?s.dataset:null;if(r){if(void 0!==r.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=n.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==r.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==r.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();var l=null===(i=n.carousel)||void 0===i?void 0:i.plugins.Autoplay,c=l.isActive;return o&&"mousemove"===o.panMode&&!c&&o.reset(),void(c?l.stop():l.start())}var u=r.panzoomAction,h=r.panzoomChange;if((h||u)&&(e.preventDefault(),e.stopPropagation()),h){var d={};try{d=JSON.parse(h)}catch(e){}o&&o.applyChange(d)}else u&&o&&o[u]&&o[u]()}}},{key:"onChange",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){if(!this.instance.isClosing()){var e=this.container;if(e){var t=this.instance.getSlide();if(t&&t.state===ce.Ready){var i,n=t&&!t.error&&t.panzoom,a=l(e.querySelectorAll("[data-panzoom-action]"));try{for(a.s();!(i=a.n()).done;){var o=i.value;n?(o.removeAttribute("disabled"),o.removeAttribute("tabindex")):(o.setAttribute("disabled",""),o.setAttribute("tabindex","-1"))}}catch(e){a.e(e)}finally{a.f()}var s,r=n&&n.canZoomIn(),c=n&&n.canZoomOut(),u=l(e.querySelectorAll('[data-panzoom-action="zoomIn"]'));try{for(u.s();!(s=u.n()).done;){var h=s.value;r?(h.removeAttribute("disabled"),h.removeAttribute("tabindex")):(h.setAttribute("disabled",""),h.setAttribute("tabindex","-1"))}}catch(e){u.e(e)}finally{u.f()}var d,f=l(e.querySelectorAll('[data-panzoom-action="zoomOut"]'));try{for(f.s();!(d=f.n()).done;){var v=d.value;c?(v.removeAttribute("disabled"),v.removeAttribute("tabindex")):(v.setAttribute("disabled",""),v.setAttribute("tabindex","-1"))}}catch(e){f.e(e)}finally{f.f()}var p,g=l(e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]'));try{for(g.s();!(p=g.n()).done;){var m=p.value;c||r?(m.removeAttribute("disabled"),m.removeAttribute("tabindex")):(m.setAttribute("disabled",""),m.setAttribute("tabindex","-1"));var b=m.querySelector("g");b&&(b.style.display=r?"":"none")}}catch(e){g.e(e)}finally{g.f()}}}}}},{key:"onDone",value:function(e,t){var i,n=this;null===(i=t.panzoom)||void 0===i||i.on("afterTransform",(function(){n.instance.isCurrentSlide(t)&&n.onRefresh()})),this.instance.isCurrentSlide(t)&&this.onRefresh()}},{key:"createContainer",value:function(){var e=this.instance.container;if(!e)return null;var t=this.option("parentEl")||e,i=t.querySelector("."+tt);return i||(i=document.createElement("div"),L(i,tt),t.prepend(i)),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&L(e,et),this.container=i,i}},{key:"createEl",value:function(e){var t=this,i=this.instance,n=i.carousel;if(!n)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!ve())return null;var a,o=null,s=n.slides.length||0,r=0,c=0,u=l(n.slides);try{for(u.s();!(a=u.n()).done;){var h=a.value;(h.panzoom||"image"===h.type)&&r++,("image"===h.type||h.downloadSrc)&&c++}}catch(e){u.e(e)}finally{u.f()}if(s<2&&["infobar","prev","next"].includes(e))return o;if(void 0!==$e[e]&&!r)return null;if("download"===e&&!c)return null;if("thumbs"===e){var d=i.plugins.Thumbs;if(!d||!d.isEnabled)return null}if("slideshow"===e&&(!n.plugins.Autoplay||s<2))return null;if(void 0!==$e[e]){var v=$e[e];(o=document.createElement("button")).setAttribute("title",this.instance.localize("{{".concat(e.toUpperCase(),"}}"))),L(o,"f-button"),v.action&&(o.dataset.panzoomAction=v.action),v.change&&(o.dataset.panzoomChange=JSON.stringify(v.change)),o.appendChild(f(this.instance.localize(v.icon)))}else{var p=(this.option("items")||[])[e];p&&(o=f(this.instance.localize(p.tpl)),"function"==typeof p.click&&o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof p.click&&p.click.call(t,t,e)})))}var g=null==o?void 0:o.querySelector("svg");if(g)for(var m=0,b=Object.entries(Qe);m<b.length;m++){var y=babelHelpers.slicedToArray(b[m],2),w=y[0],k=y[1];g.getAttribute(w)||g.setAttribute(w,String(k))}return o}},{key:"removeContainer",value:function(){var e=this.container;e&&e.remove(),this.container=null,this.state=Je.Disabled;var t=this.instance.container;t&&I(t,et)}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}}]),t}(G);Object.defineProperty(it,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});var nt,at={Hash:function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onReady",value:function(){me=!1}},{key:"onChange",value:function(e){ye&&clearTimeout(ye);var t=we().hash,i=ke().hash,n=e.isOpeningSlide(e.getSlide());n&&(ge=i===t?"":i),t&&t!==i&&(ye=setTimeout((function(){try{if(e.state===le.Ready){var i="replaceState";n&&!be&&(i="pushState",be=!0),window.history[i]({},document.title,window.location.pathname+window.location.search+t)}}catch(e){}}),300))}},{key:"onClose",value:function(e){if(ye&&clearTimeout(ye),!me&&be)return be=!1,me=!1,void window.history.back();if(!me)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(ge||""))}catch(e){}}},{key:"attach",value:function(){var e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)}},{key:"detach",value:function(){var e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)}}],[{key:"parseURL",value:function(){return ke()}},{key:"startFromUrl",value:function(){xe()}},{key:"destroy",value:function(){window.removeEventListener("hashchange",Ce,!1)}}]),t}(G),Html:Le,Images:Pe,Slideshow:Be,Thumbs:Ke,Toolbar:it},ot="with-fancybox",st="hide-scrollbar",rt="--fancybox-scrollbar-compensate",lt="--fancybox-body-margin",ct="aria-hidden",ut="is-using-tab",ht="is-animated",dt="is-compact",ft="is-loading",vt="is-opening",pt="has-caption",gt="disabled",mt="tabindex",bt="download",yt="href",wt="src",kt=function(e){return"string"==typeof e},xt=function(){var e=window.getSelection();return!!e&&"Range"===e.type},Tt=null,Ct=null,Et=0,St=0,Pt=0,Mt=0,Ot=new Map,Ht=0,At=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,n)),Object.defineProperty(babelHelpers.assertThisInitialized(e),"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:le.Init}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(babelHelpers.assertThisInitialized(e),"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),nt||(nt=ve()),e.id=n.id||++Ht,Ot.set(e.id,babelHelpers.assertThisInitialized(e)),e.userSlides=i,e.userPlugins=a,queueMicrotask((function(){e.init()})),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"isIdle",get:function(){return this.idle}},{key:"isCompact",get:function(){return this.option("compact")}}]),babelHelpers.createClass(t,[{key:"init",value:function(){var e=this;if(this.state!==le.Destroy){this.state=le.Init,this.attachPlugins(Object.assign(Object.assign({},t.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&function(){if(he){var e=document,t=e.body,i=e.documentElement;if(!t.classList.contains(st)){var n=window.innerWidth-i.getBoundingClientRect().width,a=parseFloat(window.getComputedStyle(t).marginRight);n<0&&(n=0),i.style.setProperty(rt,"".concat(n,"px")),a&&t.style.setProperty(lt,"".concat(a,"px")),t.classList.add(st)}}}(),this.initLayout(),this.scale();var i=function(){e.initCarousel(e.userSlides),e.state=le.Ready,e.attachEvents(),e.emit("ready"),setTimeout((function(){e.container&&e.container.setAttribute(ct,"false")}),16)};this.option("Fullscreen.autoStart")&&nt&&!nt.isFullscreen()?nt.request().then((function(){e.startedFs=!0,i()})).catch((function(){return i()})):i()}}},{key:"initLayout",value:function(){var e,t,i=this,n=this.option("parentEl")||document.body,a=f(this.localize(this.option("tpl.main")||""));if(a){if(a.setAttribute("id","fancybox-".concat(this.id)),a.setAttribute("aria-label",this.localize("{{MODAL}}")),a.classList.toggle(dt,this.isCompact),L(a,this.option("mainClass")||""),L(a,vt),this.container=a,this.footer=a.querySelector(".fancybox__footer"),n.appendChild(a),L(document.documentElement,ot),Tt&&Ct||(Tt=document.createElement("span"),L(Tt,"fancybox-focus-guard"),Tt.setAttribute(mt,"0"),Tt.setAttribute(ct,"true"),Tt.setAttribute("aria-label","Focus guard"),Ct=Tt.cloneNode(),null===(e=a.parentElement)||void 0===e||e.insertBefore(Tt,a),null===(t=a.parentElement)||void 0===t||t.append(Ct)),a.addEventListener("mousedown",(function(e){Et=e.pageX,St=e.pageY,I(a,ut)})),this.option("closeExisting")){var o,s=l(Ot.values());try{for(s.s();!(o=s.n()).done;){var r=o.value;r.id!==this.id&&r.close()}}catch(e){s.e(e)}finally{s.f()}}else this.option("animated")&&(L(a,ht),setTimeout((function(){i.isClosing()||I(a,ht)}),350));this.emit("initLayout")}}},{key:"initCarousel",value:function(e){var t=this,i=this.container;if(i){var n=i.querySelector(".fancybox__carousel");if(n){var a=this.carousel=new se(n,x({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));a.on("*",(function(e,i){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];t.emit.apply(t,["Carousel.".concat(i),e].concat(a))})),a.on(["ready","change"],(function(){t.manageCaption()})),this.on("Carousel.removeSlide",(function(e,i,n){t.clearContent(n),n.state=void 0})),a.on("Panzoom.touchStart",(function(){var e,i;t.isCompact||t.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(i=t.container)||void 0===i||i.focus())})),a.on("settle",(function(){t.idleTimer||t.isCompact||!t.option("idle")||t.setIdle(),t.option("autoFocus")&&!t.isClosing&&t.checkFocus()})),this.option("dragToClose")&&(a.on("Panzoom.afterTransform",(function(e,i){var n=t.getSlide();if(!n||!h(n.el)){var a=t.container;if(a){var o=Math.abs(i.current.f),s=o<1?"":Math.max(.5,Math.min(1,1-o/i.contentRect.fitHeight*1.5));a.style.setProperty("--fancybox-ts",s?"0s":""),a.style.setProperty("--fancybox-opacity",s+"")}}})),a.on("Panzoom.touchEnd",(function(e,i,n){var a,o=t.getSlide();if(!(o&&h(o.el)||i.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(a=document.activeElement)||void 0===a?void 0:a.nodeName))){var s=Math.abs(i.dragOffset.y);"y"===i.lockedAxis&&(s>=200||s>=50&&i.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),t.close(n,"f-throwOut"+(i.current.f<0?"Up":"Down")))}}))),a.on("change",(function(e){var i,n=null===(i=t.getSlide())||void 0===i?void 0:i.triggerEl;if(n){var a=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(a)}})),a.on(["refresh","change"],(function(e){var i=t.container;if(i){var n,a=l(i.querySelectorAll("[data-fancybox-current-index]"));try{for(a.s();!(n=a.n()).done;){n.value.innerHTML=e.page+1}}catch(e){a.e(e)}finally{a.f()}var o,s=l(i.querySelectorAll("[data-fancybox-count]"));try{for(s.s();!(o=s.n()).done;){o.value.innerHTML=e.pages.length}}catch(e){s.e(e)}finally{s.f()}if(!e.isInfinite){var r,c=l(i.querySelectorAll("[data-fancybox-next]"));try{for(c.s();!(r=c.n()).done;){var u=r.value;e.page<e.pages.length-1?(u.removeAttribute(gt),u.removeAttribute(mt)):(u.setAttribute(gt,""),u.setAttribute(mt,"-1"))}}catch(e){c.e(e)}finally{c.f()}var h,d=l(i.querySelectorAll("[data-fancybox-prev]"));try{for(d.s();!(h=d.n()).done;){var f=h.value;e.page>0?(f.removeAttribute(gt),f.removeAttribute(mt)):(f.setAttribute(gt,""),f.setAttribute(mt,"-1"))}}catch(e){d.e(e)}finally{d.f()}}var v=t.getSlide();if(v){var p=v.downloadSrc||"";p||"image"!==v.type||v.error||!kt(v.src)||(p=v.src);var g,m=l(i.querySelectorAll("[data-fancybox-download]"));try{for(m.s();!(g=m.n()).done;){var b=g.value,y=v.downloadFilename;p?(b.removeAttribute(gt),b.removeAttribute(mt),b.setAttribute(yt,p),b.setAttribute(bt,y||p),b.setAttribute("target","_blank")):(b.setAttribute(gt,""),b.setAttribute(mt,"-1"),b.removeAttribute(yt),b.removeAttribute(bt))}}catch(e){m.e(e)}finally{m.f()}}}})),this.emit("initCarousel")}}}},{key:"attachEvents",value:function(){var e=this,t=e.container;if(t){t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);var i=window.visualViewport;i&&(i.addEventListener("scroll",e.onResize),i.addEventListener("resize",e.onResize))}}},{key:"detachEvents",value:function(){var e=this,t=e.container;if(t){document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);var i=window.visualViewport;i&&(i.removeEventListener("resize",e.onResize),i.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}}},{key:"scale",value:function(){var e=this.container;if(e){var t=window.visualViewport,i=Math.max(1,(null==t?void 0:t.scale)||1),n="",a="",o="";if(t&&i>1){var s="".concat(t.offsetLeft,"px"),r="".concat(t.offsetTop,"px");n=t.width*i+"px",a=t.height*i+"px",o="translate3d(".concat(s,", ").concat(r,", 0) scale(").concat(1/i,")")}e.style.transform=o,e.style.width=n,e.style.height=a}}},{key:"onClick",value:function(e){var t,i=this,n=this.container,a=this.isCompact;if(n&&!this.isClosing()){!a&&this.option("idle")&&this.resetIdle();var o=e.composedPath()[0];if(o.closest(".fancybox-spinner")||o.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(o.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(o.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(("click"!==e.type||0!==e.detail)&&!(Math.abs(e.pageX-Et)>30||Math.abs(e.pageY-St)>30)){var s=document.activeElement;if(!(xt()&&s&&n.contains(s)))if(a&&"image"===(null===(t=this.getSlide())||void 0===t?void 0:t.type))this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((function(){i.toggleIdle(),i.clickTimer=null}),350);else if(this.emit("click",e),!e.defaultPrevented){var r=!1;if(o.closest(".fancybox__content")){if(s){if(s.closest("[contenteditable]"))return;o.matches(de)||s.blur()}if(xt())return;r=this.option("contentClick")}else o.closest(".fancybox__carousel")&&!o.matches(de)&&(r=this.option("backdropClick"));"close"===r?(e.preventDefault(),this.close(e)):"next"===r?(e.preventDefault(),this.next()):"prev"===r&&(e.preventDefault(),this.prev())}}}}},{key:"onWheel",value:function(e){var t=e.target,i=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(i="slide");var n="slide"===i,a=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),o=Math.max(-1,Math.min(1,a)),s=Date.now();this.pwt&&s-this.pwt<300?n&&e.preventDefault():(this.pwt=s,this.emit("wheel",e,o),e.defaultPrevented||("close"===i?(e.preventDefault(),this.close(e)):"slide"===i&&(d(t)||(e.preventDefault(),this[o>0?"prev":"next"]()))))}},{key:"onScroll",value:function(){window.scrollTo(Pt,Mt)}},{key:"onKeydown",value:function(e){if(this.isTopmost()){this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();var t=e.key,i=this.option("keyboard");if(i){var n=e.composedPath()[0],a=document.activeElement&&document.activeElement.classList,o=a&&a.contains("f-button")||n.dataset.carouselPage||n.dataset.carouselIndex;if(("Escape"===t||o||!z(n)||!n.isContentEditable&&-1===["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName))&&("Tab"===e.key?L(this.container,ut):I(this.container,ut),!(e.ctrlKey||e.altKey||e.shiftKey))){this.emit("keydown",t,e);var s=i[t];s&&"function"==typeof this[s]&&(e.preventDefault(),this[s]())}}}}},{key:"onResize",value:function(){var e=this.container;if(e){var t=this.isCompact;e.classList.toggle(dt,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}}},{key:"onFocus",value:function(e){this.isTopmost()&&this.checkFocus(e)}},{key:"onMousemove",value:function(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}},{key:"manageCloseBtn",value:function(e){var t=this.optionFor(e,"closeButton")||!1;if("auto"===t){var i=this.plugins.Toolbar;if(i&&i.state===Je.Ready)return}if(t&&e.contentEl&&!e.closeBtnEl){var n=this.option("tpl.closeButton");if(n){var a=f(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(a),e.el&&L(e.el,"has-close-btn")}}}},{key:"manageCaption",value:function(){var e,t,i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a="fancybox__caption",o=this.container;if(o){I(o,pt);var s=this.isCompact||this.option("commonCaption"),r=!s;if(this.caption&&this.stop(this.caption),r&&this.caption&&(this.caption.remove(),this.caption=null),s&&!this.caption){var c,u=l((null===(e=this.carousel)||void 0===e?void 0:e.slides)||[]);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.captionEl&&(h.captionEl.remove(),h.captionEl=void 0,I(h.el,pt),null===(t=h.el)||void 0===t||t.removeAttribute("aria-labelledby"))}}catch(e){u.e(e)}finally{u.f()}}if(n||(n=this.getSlide()),n&&(!s||this.isCurrentSlide(n))){var d=n.el,f=this.optionFor(n,"caption","");if(f){var v=null;if(r){if(v=n.captionEl||null,d&&!v){var p=a+"_".concat(this.id,"_").concat(n.index);v=document.createElement("div"),L(v,a),v.setAttribute("id",p),n.captionEl=d.appendChild(v),L(d,pt),d.setAttribute("aria-labelledby",p)}}else(v=this.caption)||(v=o.querySelector("."+a)),v||((v=document.createElement("div")).dataset.fancyboxCaption="",L(v,a),(this.footer||o).prepend(v)),L(o,pt),this.caption=v;v&&(v.innerHTML="",kt(f)||"number"==typeof f?v.innerHTML=f+"":f instanceof HTMLElement&&v.appendChild(f))}else s&&this.caption&&this.animate(this.caption,"f-fadeOut",(function(){i.caption&&(i.caption.innerHTML="")}))}}}},{key:"checkFocus",value:function(e){this.focus(e)}},{key:"focus",value:function(e){var t;if(!this.ignoreFocusChange){var i=document.activeElement||null,n=(null==e?void 0:e.target)||null,a=this.container,o=null===(t=this.carousel)||void 0===t?void 0:t.viewport;if(a&&o&&(e||!i||!a.contains(i))){var s=this.getSlide(),r=s&&s.state===ce.Ready?s.el:null;if(r&&!r.contains(i)&&a!==i){e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;for(var l=[],c=null,u=0,h=Array.from(a.querySelectorAll(de));u<h.length;u++){var d=h[u],f=!d.offsetParent||!!d.closest('[aria-hidden="true"]'),v=r&&r.contains(d),p=!o.contains(d);if(d===a||(v||p)&&!f){l.push(d);var g=d.dataset.origTabindex;void 0!==g&&g&&(d.tabIndex=parseFloat(g)),d.removeAttribute("data-orig-tabindex"),!d.hasAttribute("autoFocus")&&c||(c=d)}else{var m=void 0===d.dataset.origTabindex?d.getAttribute("tabindex")||"":d.dataset.origTabindex;m&&(d.dataset.origTabindex=m),d.tabIndex=-1}}var b=null;e?(!n||l.indexOf(n)<0)&&(b=c||a,l.length&&(i===Ct?b=l[0]:this.lastFocus!==a&&i!==Tt||(b=l[l.length-1]))):b=s&&"image"===s.type?a:c||a,b&&fe(b),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}}}}},{key:"next",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slideNext()}},{key:"prev",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}},{key:"jumpTo",value:function(){var e;this.carousel&&(e=this.carousel).slideTo.apply(e,arguments)}},{key:"isTopmost",value:function(){var e;return(null===(e=t.getInstance())||void 0===e?void 0:e.id)==this.id}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if(e&&t){this.stop(e);var n=function n(a){a.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",n),delete e.dataset.animationName,i&&i(),I(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",n),L(e,t)}else i&&i()}},{key:"stop",value:function(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}},{key:"setContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.isClosing()){var n=e.el;if(n){var a=null;if(z(t)?a=t:(a=f(t+""),z(a)||((a=document.createElement("div")).innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(a.nodeName.toLowerCase())){var o=document.createElement("div");o.appendChild(a),a=o}z(a)&&e.filter&&!e.error&&(a=a.querySelector(e.filter)),a&&z(a)?(L(a,"fancybox__content"),e.id&&a.setAttribute("id",e.id),n.classList.add("has-".concat(e.error?"error":e.type||"unknown")),n.prepend(a),"none"===a.style.display&&(a.style.display=""),"none"===getComputedStyle(a).getPropertyValue("display")&&(a.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=a,i&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}}}},{key:"revealContent",value:function(e,t){var i=this,n=e.el,a=e.contentEl;n&&a&&(this.emit("reveal",e),this.hideLoading(e),e.state=ce.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(a,t,(function(){i.done(e)})):this.done(e))}},{key:"done",value:function(e){var t=this;this.isClosing()||(e.state=ce.Ready,this.emit("done",e),L(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask((function(){var i;null===(i=e.panzoom)||void 0===i||i.updateControls(),t.option("autoFocus")&&t.focus()})),this.isOpeningSlide(e)&&(I(this.container,vt),!this.isCompact&&this.option("idle")&&this.setIdle()))}},{key:"isCurrentSlide",value:function(e){var t=this.getSlide();return!(!e||!t)&&t.index===e.index}},{key:"isOpeningSlide",value:function(e){var t,i;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e&&e.index===(null===(i=this.getSlide())||void 0===i?void 0:i.index)}},{key:"showLoading",value:function(e){var t=this;e.state=ce.Loading;var i=e.el;i&&(L(i,ft),this.emit("loading",e),e.spinnerEl||setTimeout((function(){if(!t.isClosing()&&!e.spinnerEl&&e.state===ce.Loading){var n=f(A);L(n,"fancybox-spinner"),e.spinnerEl=n,i.prepend(n),t.animate(n,"f-fadeIn")}}),250))}},{key:"hideLoading",value:function(e){var t=e.el;if(t){var i=e.spinnerEl;this.isClosing()?null==i||i.remove():(I(t,ft),i&&this.animate(i,"f-fadeOut",(function(){i.remove()})),e.state===ce.Loading&&(this.emit("loaded",e),e.state=ce.Ready))}}},{key:"setError",value:function(e,t){if(!this.isClosing()){var i=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",i,e),!i.defaultPrevented){e.error=t,this.hideLoading(e),this.clearContent(e);var n=document.createElement("div");n.classList.add("fancybox-error"),n.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,n)}}}},{key:"clearContent",value:function(e){if(void 0!==e.state){this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);var t=e.el;t&&(I(t,"has-error"),I(t,"has-unknown"),I(t,"has-".concat(e.type||"unknown"))),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}}},{key:"getSlide",value:function(){var e,t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}},{key:"close",value:function(e,t){var i=this;if(!this.isClosing()){var n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),!n.defaultPrevented){e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());var a=function(){i.proceedClose(e,t)};this.startedFs&&nt&&nt.isFullscreen()?Promise.resolve(nt.exit()).then((function(){return a()})):a()}}}},{key:"clearIdle",value:function(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}},{key:"setIdle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=function(){e.clearIdle(),e.idle=!0,L(e.container,"is-idle"),e.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(t)i();else{var n=this.option("idle");n&&(this.idleTimer=setTimeout(i,n))}}},{key:"endIdle",value:function(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,I(this.container,"is-idle"),this.emit("endIdle"))}},{key:"resetIdle",value:function(){this.endIdle(),this.setIdle()}},{key:"toggleIdle",value:function(){this.idle?this.endIdle():this.setIdle(!0)}},{key:"toggleFullscreen",value:function(){var e=this;nt&&(nt.isFullscreen()?nt.exit():nt.request().then((function(){e.startedFs=!0})))}},{key:"isClosing",value:function(){return[le.Closing,le.CustomClosing,le.Destroy].includes(this.state)}},{key:"proceedClose",value:function(e,t){var i,n,a=this;this.state=le.Closing,this.clearIdle(),this.detachEvents();var o=this.container,s=this.carousel,r=this.getSlide(),c=r&&this.option("placeFocusBack")?r.triggerEl||this.option("triggerEl"):null;if(c&&(ue(c)?fe(c):c.focus()),o&&(I(o,vt),L(o,"is-closing"),o.setAttribute(ct,"true"),this.option("animated")&&L(o,ht),o.style.pointerEvents="none"),s){s.clearTransitions(),null===(i=s.panzoom)||void 0===i||i.destroy(),null===(n=s.plugins.Navigation)||void 0===n||n.detach();var u,h=l(s.slides);try{for(h.s();!(u=h.n()).done;){var d=u.value;d.state=ce.Closing,this.hideLoading(d);var f=d.contentEl;f&&this.stop(f);var v=null==d?void 0:d.panzoom;v&&(v.stop(),v.detachEvents(),v.detachObserver()),this.isCurrentSlide(d)||s.emit("removeSlide",d)}}catch(e){h.e(e)}finally{h.f()}}Pt=window.scrollX,Mt=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==le.CustomClosing?(void 0===t&&r&&(t=this.optionFor(r,"hideClass")),t&&r?(this.animate(r.contentEl,t,(function(){s&&s.emit("removeSlide",r)})),setTimeout((function(){a.destroy()}),500)):this.destroy()):setTimeout((function(){a.destroy()}),500)}},{key:"destroy",value:function(){var e;if(this.state!==le.Destroy){window.removeEventListener("scroll",this.onScroll),this.state=le.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();var i=this.container;i&&i.remove(),Ot.delete(this.id);var n=t.getInstance();n?n.focus():(Tt&&(Tt.remove(),Tt=null),Ct&&(Ct.remove(),Ct=null),I(document.documentElement,ot),function(){if(he){var e=document,t=e.body;t.classList.remove(st),t.style.setProperty(lt,""),e.documentElement.style.setProperty(rt,"")}}(),this.emit("destroy"))}}}],[{key:"bind",value:function(e,i,n){if(he){var a,o="",s={};if(void 0===e?a=document.body:kt(e)?(a=document.body,o=e,"object"==babelHelpers.typeof(i)&&(s=i||{})):(a=e,kt(i)&&(o=i),"object"==babelHelpers.typeof(n)&&(s=n||{})),a&&z(a)){o=o||"[data-fancybox]";var r=t.openers.get(a)||new Map;r.set(o,s),t.openers.set(a,r),1===r.size&&a.addEventListener("click",t.fromEvent)}}}},{key:"unbind",value:function(e,i){var n,a="";if(kt(e)?(n=document.body,a=e):(n=e,kt(i)&&(a=i)),n){var o=t.openers.get(n);o&&a&&o.delete(a),a&&o||(t.openers.delete(n),n.removeEventListener("click",t.fromEvent))}}},{key:"destroy",value:function(){for(var e;e=t.getInstance();)e.destroy();var i,n=l(t.openers.keys());try{for(n.s();!(i=n.n()).done;){i.value.removeEventListener("click",t.fromEvent)}}catch(e){n.e(e)}finally{n.f()}t.openers=new Map}},{key:"fromEvent",value:function(e){if(!e.defaultPrevented&&!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)){var i,n,a,o,s=e.composedPath()[0],r=s.closest("[data-fancybox-trigger]");if(r){var l=r.dataset.fancyboxTrigger||"",c=document.querySelectorAll('[data-fancybox="'.concat(l,'"]')),u=parseInt(r.dataset.fancyboxIndex||"",10)||0;s=c[u]||s}if(s&&s instanceof Element)if(babelHelpers.toConsumableArray(t.openers).reverse().find((function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],l=t[1];return!(!r.contains(s)||!babelHelpers.toConsumableArray(l).reverse().find((function(e){var t=babelHelpers.slicedToArray(e,2),l=t[0],c=t[1],u=s.closest(l);return!!u&&(i=r,n=l,a=u,o=c,!0)})))})),i&&n&&a){o=o||{},e.preventDefault(),s=a;var h=[],d=x({},pe,o);d.event=e,d.triggerEl=s,d.delegate=r;var f=d.groupAll,v=d.groupAttr,p=v&&s?s.getAttribute("".concat(v)):"";if((!s||p||f)&&(h=[].slice.call(i.querySelectorAll(n))),s&&!f&&(h=p?h.filter((function(e){return e.getAttribute("".concat(v))===p})):[s]),h.length){var g=t.getInstance();return g&&g.options.triggerEl&&h.indexOf(g.options.triggerEl)>-1?void 0:(s&&(d.startIndex=h.indexOf(s)),t.fromNodes(h,d))}}}}},{key:"fromSelector",value:function(e,i,n){var a=null,o="",s={};if(kt(e)?(a=document.body,o=e,"object"==babelHelpers.typeof(i)&&(s=i||{})):e instanceof HTMLElement&&kt(i)&&(a=e,o=i,"object"==babelHelpers.typeof(n)&&(s=n||{})),!a||!o)return!1;var r=t.openers.get(a);return!!r&&(!!(s=x({},r.get(o)||{},s))&&t.fromNodes(Array.from(a.querySelectorAll(o)),s))}},{key:"fromNodes",value:function(e,i){i=x({},pe,i||{});var n,a=[],o=l(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,r=s.dataset||{},c=r.src||s.getAttribute(yt)||s.getAttribute("currentSrc")||s.getAttribute(wt)||void 0,u=void 0,h=i.delegate,d=void 0;h&&a.length===i.startIndex&&(u=h instanceof HTMLImageElement?h:h.querySelector("img:not([aria-hidden])")),u||(u=s instanceof HTMLImageElement?s:s.querySelector("img:not([aria-hidden])")),u&&(!(d=u.currentSrc||u.src||void 0)&&u.dataset&&(d=u.dataset.lazySrc||u.dataset.src||void 0));var f={src:c,triggerEl:s,thumbEl:u,thumbElSrc:d,thumbSrc:d};for(var v in r){var p=r[v]+"";p="false"!==p&&("true"===p||p),f[v]=p}a.push(f)}}catch(e){o.e(e)}finally{o.f()}return new t(a,i)}},{key:"getInstance",value:function(e){return e?Ot.get(e):Array.from(Ot.values()).reverse().find((function(e){return!e.isClosing()&&e}))||null}},{key:"getSlide",value:function(){var e;return(null===(e=t.getInstance())||void 0===e?void 0:e.getSlide())||null}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new t(e,i)}},{key:"next",value:function(){var e=t.getInstance();e&&e.next()}},{key:"prev",value:function(){var e=t.getInstance();e&&e.prev()}},{key:"close",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];if(e){var o,s=l(Ot.values());try{for(s.s();!(o=s.n()).done;){var r=o.value;r.close.apply(r,n)}}catch(e){s.e(e)}finally{s.f()}}else{var c=t.getInstance();c&&c.close.apply(c,n)}}}]),t}(S);Object.defineProperty(At,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(At,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:pe}),Object.defineProperty(At,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:at}),Object.defineProperty(At,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),BX.ready((function(){t.Methods.setPhonesMask(),t.Methods.initViberLink(),t.Methods.checkAgree(),t.Methods.bxPreloader(),o.on("submit",".ajax_form",(function(e){e.preventDefault(),r(this,!0);var t=this,i=t.querySelector(".total-error");i&&o.slideToggle(i,"up"),grecaptcha.ready((function(){grecaptcha.execute(reCAPTCHASiteKey,{action:"submit"}).then((function(e){t.querySelector('input[name="g-token"]').value=e,BX.ajax.runComponentAction("dk:ajax_form","submit",{mode:"class",data:new FormData(t)}).then((function(e){e.data.success&&t.reset();var i=t.classList.contains("form")?t:t.closest(".form");if(e.data.message){var n=o.createStructure({inner:e.data.message}).firstElementChild;i.append(n),i.classList.add("is-success"),o.fadeToggle(n,"show"),e.data.success||setTimeout((function(){o.fadeToggle(n,"hide"),i.classList.remove("is-success"),setTimeout((function(){n.remove()}),500)}),5e3)}else if(e.data.field){var a=t.querySelector("input[name=".concat(e.data.field,"]"));a&&(a.classList.add("is-error"),a.addEventListener("focus",(function(){this.classList.remove("is-error")}),{once:!0}))}r(t,!1)}),(function(e){var i=t.querySelector(".total-error");i&&(i.querySelector(".total-error-content").textContent=e.errors[0].message,o.slideToggle(i,"down")),r(t,!1)}))}))}))})),Swiper.defaults.speed=1e3,Swiper.defaults.allowTouchMove=!1,Swiper.defaults.rewind=!0,At.bind(".modal-trigger",{dragToClose:!1,Hash:!1,autoFocus:!1}),t.Methods.on("click",".fastpay",i.runModalCart)})),void 0!==window.frameCacheVars?BX.addCustomEvent("onFrameDataReceived",(function(e){document.addEventListener("scroll",(function(){t.Methods.fixedHeader()}))})):BX.ready((function(){document.addEventListener("scroll",(function(){t.Methods.fixedHeader()}))}))}(this.DK=this.DK||{},DK,DK);
